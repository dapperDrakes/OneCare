if (self.CavalryLogger) { CavalryLogger.start_js(["1pyT2"]); }

__d('ReactComposerFocusScrollLockUtils',['csx','cx','CSS','DOMQuery','Style','getViewportDimensions'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=300,k=400,l={_interval:0,_pageRoot:null,enable:function(m){c('CSS').addClass(this._getPageRoot(),"_ihc");var n=function(){var o=c('getViewportDimensions')(),p=m.offsetHeight+k,q=Math.max(o.height,p)+'px';if(c('Style').get(this._getPageRoot(),'height')!==q)c('Style').set(this._getPageRoot(),'height',q);}.bind(this);this._interval=setInterval(n,j);},disable:function(){c('CSS').removeClass(this._getPageRoot(),"_ihc");c('Style').set(this._getPageRoot(),'height',null);clearInterval(this._interval);},_getPageRoot:function(){if(!this._pageRoot)this._pageRoot=c('DOMQuery').scry(document.body,"._li")[0];return this._pageRoot;}};f.exports=l;},null);
__d('ReactComposerFocusModal.react',['ReactComposerFocusScrollLockUtils','ReactComposerFocusWrapperCore.react','Arbiter','Bootloader','Image.react','React','ReactDOM'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=null,l=null,m=null;h=babelHelpers.inherits(n,c('React').PureComponent);i=h&&h.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return o=(p=i.constructor).call.apply(p,[this].concat(r)),this.state={focused:false,showDiscardDialog:false},this.$ReactComposerFocusModal4=function(){c('Bootloader').loadModules(["ReactComposerHandleUnsavedChanges","ReactComposerFocusDiscardDialog.react","ReactComposerInit"],function(t,u,v){m=t;l=u;k=v;},'ReactComposerFocusModal.react');},this.$ReactComposerFocusModal6=function(t){if(t)return this.$ReactComposerFocusModal1();if(l&&m&&m.hasUnsavedChanges(this.$ReactComposerFocusModal7())){this.$ReactComposerFocusModal8();}else this.$ReactComposerFocusModal2();}.bind(this),this.$ReactComposerFocusModal2=function(){this.$ReactComposerFocusModal3();k&&k.resetComposer(this.$ReactComposerFocusModal7());c('Arbiter').inform('ReactComposerFocus/reset/'+this.$ReactComposerFocusModal7());this.$ReactComposerFocusModal1();}.bind(this),this.$ReactComposerFocusModal5=function(){var t=c('ReactDOM').findDOMNode(this.refs.focus.getComposer());c('ReactComposerFocusScrollLockUtils').enable(t);this.setState({focused:true});}.bind(this),this.$ReactComposerFocusModal1=function(){c('ReactComposerFocusScrollLockUtils').disable();this.setState({focused:false});}.bind(this),this.$ReactComposerFocusModal8=function(){this.setState({showDiscardDialog:true});}.bind(this),this.$ReactComposerFocusModal3=function(){this.setState({showDiscardDialog:false});}.bind(this),this.$ReactComposerFocusModal7=function(){return this.refs.focus.getComposerID();}.bind(this),o;}n.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerFocusModal1();};n.prototype.render=function(){'use strict';var o=this.state.showDiscardDialog&&l?c('React').createElement(l,{onConfirm:this.$ReactComposerFocusModal2,onCancel:this.$ReactComposerFocusModal3}):null;return c('React').createElement('div',null,c('React').createElement(c('ReactComposerFocusWrapperCore.react'),{composerID:this.props.composerID,focused:this.state.focused,fixHeight:true,onFirstFocus:this.$ReactComposerFocusModal4,onFocus:this.$ReactComposerFocusModal5,onDismiss:this.$ReactComposerFocusModal6,ref:'focus'},this.props.children),o);};n.propTypes={composerID:j.string.isRequired};f.exports=n;},null);