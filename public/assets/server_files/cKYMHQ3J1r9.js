if (self.CavalryLogger) { CavalryLogger.start_js(["Pxi\/0"]); }

__d("ChatReliabilityEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received"};},null);
__d("ChatSidebarSections",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list"};},null);
__d("SidebarType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SIDEBAR:"sidebar",BUDDYLIST:"buddylist",BUDDYLIST_NUB:"buddylist_nub"};},null);
__d("SyncRequestStatusEnum",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING:0,ACCEPTED:1,REJECTED:2,EXPIRED:3,CANCELED:4,namesByValue:["PENDING","ACCEPTED","REJECTED","EXPIRED","CANCELED"]};},null);
__d('AvailableListConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ON_AVAILABILITY_CHANGED:'buddylist/availability-changed',ON_UPDATE_ERROR:'buddylist/update-error',ON_UPDATED:'buddylist/updated',ON_CHAT_NOTIFICATION_CHANGED:'chat-notification-changed',OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:'webStatus',FB_APP_STATUS:'fbAppStatus',MESSENGER_STATUS:'messengerStatus',OTHER_STATUS:'otherStatus',STATUS_ACTIVE:'active',STATUS_IDLE:'idle',STATUS_OFFLINE:'offline'};f.exports=h;},null);
__d('LastActiveTimes',['fbt','ServerTime'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={};function j(n){if(!n||n<0)return '';var o=c('ServerTime').get()/1000-n,p=Math.floor(o/60),q=Math.floor(p/60),r=Math.floor(q/24);if(p<=1){return h._("{count}m",[h.param('count',1)]);}else if(p<60){return h._("{count}m",[h.param('count',p)]);}else if(q<24){return h._("{count}h",[h.param('count',q)]);}else if(r<3){return h._("{count}d",[h.param('count',r)]);}else return '';}function k(n,o){if(!(n in i)||i[n]<o)i[n]=o;}function l(n){if(n in i){return i[n];}else return 0;}var m={update:function(n){for(var o in n)k(o,n[o]);},getShortDisplay:function(n){return j(l(n));},get:function(n){return l(n);},getDebugData:function(){return i;}};f.exports=m;},null);
__d('PresenceUtil',['CurrentUser','randomInt'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('randomInt')(0,4294967295)+1;function i(){return h;}function j(){return c('CurrentUser').isLoggedInNow();}f.exports={getSessionID:i,hasUserCookie:j};},null);
__d('PresencePrivacy',['Arbiter','AsyncRequest','ChannelConstants','CurrentUser','PresencePrivacyInitialData','JSLogger','PresenceUtil'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='/ajax/chat/privacy/settings.php',i='/ajax/chat/privacy/online_policy.php',j='/ajax/chat/privacy/visibility.php',k='friend_visibility',l='visibility',m='online_policy',n=babelHelpers['extends']({},c('PresencePrivacyInitialData').privacyData),o=c('PresencePrivacyInitialData').visibility,p=babelHelpers['extends']({},c('PresencePrivacyInitialData').privacyData),q=o,r=c('PresencePrivacyInitialData').onlinePolicy,s=r,t=[],u=false;function v(){return c('JSLogger').create('blackbird');}var w=Object.assign(new (c('Arbiter'))(),{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1});function x(ja){var ka;for(ka in ja){var la=ja[ka];if(ka==c('CurrentUser').getID()){v().error('set_viewer_visibility');throw new Error("Invalid to set current user's visibility");}switch(la){case w.WHITELISTED:case w.BLACKLISTED:case w.UNLISTED:break;default:v().error('set_invalid_friend_visibility',{id:ka,value:la});throw new Error("Invalid state: "+la);}}for(ka in ja)n[ka]=ja[ka];w.inform('privacy-changed');}function y(ja,ka){var la={};la[ja]=ka;x(la);}function z(ja){switch(ja){case w.ONLINE:case w.OFFLINE:break;default:v().error('set_invalid_visibility',{value:ja});throw new Error("Invalid visibility: "+ja);}o=ja;w.inform('privacy-changed');w.inform('privacy-user-presence-changed');}function aa(ja){switch(ja){case w.ONLINE_TO_WHITELIST:case w.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+ja);}r=ja;w.inform('privacy-user-presence-changed');w.inform('privacy-changed');}function ba(ja,ka){u=true;ja.send();}function ca(ja,ka){t.push({request:ja,data:ka});if(!u){var la=t.shift();ba(la.request,la.data);}}function da(ja,ka){var la=ja.type;if(la===k){w.inform('privacy-availability-changed');for(var ma in ja.settings)p[ma]=ja.settings[ma];}else{if(la===l){q=ja.visibility;}else if(la===m)s=ja.online_policy;w.inform('privacy-user-presence-response');}v().log('set_update_response',{data:ja,response:ka});}function ea(ja,ka){if(o!==q)z(q);if(r!==s)aa(s);Object.assign(n,p);w.inform('privacy-changed');t=[];v().log('set_error_response',{data:ja,response:ka});}function fa(ja){u=false;if(t.length>0){var ka=t.shift();ba(ka.request,ka.data);}}function ga(ja,ka){if(c('PresenceUtil')!=null){var la=ja.getData();la.window_id=c('PresenceUtil').getSessionID();ja.setData(la);}ja.setHandler(da.bind(this,ka)).setErrorHandler(ea.bind(this,ka)).setTransportErrorHandler(ea.bind(this,ka)).setFinallyHandler(fa.bind(this)).setAllowCrossPageTransition(true);return ja;}function ha(ja,ka,la){return ga(new (c('AsyncRequest'))(ja).setData(ka),la);}function ia(ja,ka){var la=ka.obj;if(la.viewer_id!=c('CurrentUser').getID()){v().error('invalid_viewer_for_channel_message',{type:ja,data:ka});throw new Error("Viewer got from the channel is not the real viewer");}if(la.window_id===c('PresenceUtil').getSessionID())return;var ma=la.data;if(la.event=='access_control_entry'){ma.target_ids.forEach(function(oa){y(oa,ma.setting);p[oa]=ma.setting;});}else{if(la.event=='visibility_update'){var na=!!ma.visibility?w.ONLINE:w.OFFLINE;z(na);q=na;}else if(la.event=='online_policy_update'){aa(ma.online_policy);s=ma.online_policy;}w.inform('privacy-user-presence-response');}v().log('channel_message_received',{data:ka.obj});}Object.assign(w,{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1,init:function(ja,ka,la){},setVisibility:function(ja){q=o;z(ja);var ka={visibility:ja},la={type:l,visibility:ja},ma=ha(j,ka,la);ca(ma,la);v().log('set_visibility',{data:ka});return ja;},getVisibility:function(){return o;},setOnlinePolicy:function(ja){s=r;aa(ja);var ka={online_policy:ja},la={type:m,online_policy:ja},ma=ha(i,ka,la);ca(ma,la);v().log('set_online_policy',{data:ka});return ja;},getOnlinePolicy:function(){return r;},getFriendVisibility:function(ja){return n[ja]||w.UNLISTED;},isUserOffline:function(){return this.getVisibility()===w.OFFLINE;},allows:function(ja){if(this.isUserOffline())return false;var ka=this.getOnlinePolicy();return ka===w.ONLINE_TO_WHITELIST?n[ja]==w.WHITELISTED:n[ja]!=w.BLACKLISTED;},setFriendsVisibility:function(ja,ka){if(ja.length>0){var la={};for(var ma=0;ma<ja.length;ma++){var na=ja[ma];p[na]=n[na];la[na]=ka;}x(la);var oa=ka;if(oa==w.UNLISTED)oa=p[ja[0]];var pa={users:ja,setting:ka,setting_type:oa},qa={type:k,settings:la},ra=ha(h,pa,qa);ca(ra,qa);v().log('set_friend_visibility',{data:pa});}return ka;},setFriendVisibilityMap:function(ja,ka){for(var la in ja)p[la]=n[la];x(ja);var ma={type:k,settings:ja};ca(ga(ka,ma),ma);v().log('set_friend_visibility_from_map',{data:ja});},allow:function(ja){if(this.allows(ja)){v().error('allow_already_allowed');throw new Error("allow() should only be called for users that "+"are not already allowed");}if(this.getVisibility()===w.OFFLINE){v().error('allow_called_while_offline');throw new Error("allow() should only be called when the user is already online");}var ka=this.getOnlinePolicy()===w.ONLINE_TO_WHITELIST?w.WHITELISTED:w.UNLISTED;return this.setFriendsVisibility([ja],ka);},disallow:function(ja){if(!this.allows(ja)){v().error('disallow_already_disallowed');throw new Error("disallow() should only be called for users that "+"are not already disallowed");}if(this.getVisibility()===w.OFFLINE){v().error('disallow_called_while_offline');throw new Error("disallow() should only be called when the user is already online");}var ka=this.getOnlinePolicy()===w.ONLINE_TO_BLACKLIST?w.BLACKLISTED:w.UNLISTED;return this.setFriendsVisibility([ja],ka);},getBlacklist:function(){var ja=[];for(var ka in n)if(n[ka]===w.BLACKLISTED)ja.push(ka);return ja;},getWhitelist:function(){var ja=[];for(var ka in n)if(n[ka]===w.WHITELISTED)ja.push(ka);return ja;},getMapForTest:function(){return n;},setMapForTest:function(ja){n=ja;}});w.inform('privacy-changed');w.inform('privacy-user-presence-changed',c('Arbiter').BEHAVIOR_STATE);v().log('initialized',{visibility:o,policy:r});c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ja,ka){ka.presence_privacy={initial:c('PresencePrivacyInitialData').privacyData,current:n};});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('privacy_changed'),ia.bind(this));c('Arbiter').subscribe(c('ChannelConstants').ON_CONFIG,function(ja,ka){var la=ka.getConfig('visibility',null);if(la!==null&&typeof la!=='undefined'){var ma=la?w.ONLINE:w.OFFLINE;z(ma);v().log('config_visibility',{vis:ma});}}.bind(this));f.exports=w;},null);
__d('ChatVisibility',['Arbiter','JSLogger','PresencePrivacy'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isOnline:function(){return c('PresencePrivacy').getVisibility()===c('PresencePrivacy').ONLINE;},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends();},isVisibleToMostFriends:function(){return c('PresencePrivacy').getOnlinePolicy()===c('PresencePrivacy').ONLINE_TO_BLACKLIST&&c('PresencePrivacy').getBlacklist().length>0;},isVisibleToSomeFriends:function(){return c('PresencePrivacy').getOnlinePolicy()===c('PresencePrivacy').ONLINE_TO_WHITELIST&&c('PresencePrivacy').getWhitelist().length>0;},goOnline:function(i){if(c('PresencePrivacy').getVisibility()===c('PresencePrivacy').OFFLINE){c('JSLogger').create('blackbird').log('chat_go_online');c('PresencePrivacy').setVisibility(c('PresencePrivacy').ONLINE);c('Arbiter').inform('chat-visibility/go-online');}i&&i();},goOffline:function(i){if(c('PresencePrivacy').getVisibility()===c('PresencePrivacy').ONLINE){c('JSLogger').create('blackbird').log('chat_go_offline');c('PresencePrivacy').setVisibility(c('PresencePrivacy').OFFLINE);c('Arbiter').inform('chat-visibility/go-offline');}i&&i();},toggleVisibility:function(){if(h.isOnline()){h.goOffline();}else h.goOnline();}};f.exports=h;},null);
__d('PresenceStatus',['ArbiterMixin','AvailableListConstants','BanzaiODS','ChatVisibility','CurrentUser','LastActiveTimes','PresencePrivacy','ServerTime','createObjectFrom','debounceAcrossTransitions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('BanzaiODS').setEntitySample('presence',.0001);var h={},i={},j={},k=Object.assign({},c('ArbiterMixin')),l=c('debounceAcrossTransitions')(function(){return k.inform('change');},0);Object.assign(k,{resetPresenceData:function(){h={};i={};},reset:function(){k.resetPresenceData();j={};},get:function(m){if(m==c('CurrentUser').getID())return c('ChatVisibility').isOnline()?c('AvailableListConstants').ACTIVE:c('AvailableListConstants').OFFLINE;var n=c('AvailableListConstants').OFFLINE;if(m in h)n=h[m];if(!c('PresencePrivacy').allows(m))n=c('AvailableListConstants').OFFLINE;return n;},getCapabilities:function(m){var n=k.get(m);if(n==c('AvailableListConstants').OFFLINE)return 0;var o=i[m];return o?o:0;},isPlayingCanvasGameUser:function(m){return !!j[m];},getGroup:function(m){return m.some(function(n){if(n==c('CurrentUser').getID())return false;return k.get(n)===c('AvailableListConstants').ACTIVE;})?c('AvailableListConstants').ACTIVE:c('AvailableListConstants').OFFLINE;},set:function(m,n,o,p,q,r){if(m==c('CurrentUser').getID())return false;var s;if(n!==null&&n!==undefined){n=n==c('AvailableListConstants').ACTIVE?c('AvailableListConstants').ACTIVE:c('AvailableListConstants').OFFLINE;var t=k.get(m);s=t!=n;if(s&&t==c('AvailableListConstants').ACTIVE||n==c('AvailableListConstants').ACTIVE){var u={};u[m]=c('ServerTime').get()/1000;c('LastActiveTimes').update(u);}h[m]=n;}var v=false;if(q){v=k.getCapabilities(m)!=q;i[m]=q;}var w=s||v;if(w&&!r)l();return w;},setPlayingCanvasGameFriends:function(m){j=c('createObjectFrom')(m);},getOnlineIDs:function(){var m,n=[];for(m in h)if(k.get(m)===c('AvailableListConstants').ACTIVE)n.push(m);return n;},getAllIDs:function(){return Object.keys(h);},getOnlineCount:function(){return k.getOnlineIDs().length;},getPresenceStats:function(){var m=0,n=0,o=0;for(var p in h){m+=1;switch(k.get(p)){case c('AvailableListConstants').OFFLINE:n+=1;break;case c('AvailableListConstants').ACTIVE:o+=1;break;default:break;}}return {total:m,offline:n,active:o};},getDebugInfo:function(m){return {id:m,presence:h[m]};},getAllDebugInfo:function(){var m={};for(var n in h)m[n]={p:h[n],vc:i[n]};return m;},setMulti:function(m,n){var o=false;for(var p in m)k.set(p,m[p].a,false,n,m[p].c,true)&&(o=true);if(o)l();},setMultiChatproxy:function(m){var n={};for(var o in m){if(m[o].lat)n[o]=m[o].lat;var p=m[o].p;if(p!==undefined)k.set(o,p,false,'chatproxy',m[o].vc,true);}c('LastActiveTimes').update(n);l();},setMultiActive:function(m,n){var o=false;m.forEach(function(p){k.set(p,c('AvailableListConstants').ACTIVE,false,n,null,true)&&(o=true);});if(o)l();}});f.exports=k;},null);
__d('ChatproxyPresence',['Arbiter','AvailableListConstants','AvailableListInitialData','ChannelConstants','CurrentUser','LastActiveTimes','PresenceStatus','BanzaiODS','debounceAcrossTransitions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$ChatproxyPresence1=i;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=c('AvailableListInitialData').chatNotif;this.$ChatproxyPresence4=false;var j=c('AvailableListInitialData').activeList,k=c('AvailableListInitialData').lastActiveTimes;if(j)c('PresenceStatus').setMultiActive(j,'available_list_active');if(k&&!Array.isArray(k))c('LastActiveTimes').update(k);}h.prototype.subscribe=function(){'use strict';c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('chatproxy-presence'),this.updatePresenceInfo.bind(this));c('Arbiter').subscribe(c('ChannelConstants').ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true;}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').RTI_SESSION,function(i,j){if(j)this.$ChatproxyPresence4=j;}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('get_debug_presence'),function(i,j){var k=c('PresenceStatus').getAllDebugInfo(),l=c('LastActiveTimes').getDebugData();for(var m in l){var n=k[m];if(n===undefined){n={};k[m]=n;}n.l=Math.floor(l[m]);}this.$ChatproxyPresence4.issueRequest('/debug_presence',{},k,function(){c('BanzaiODS').bumpEntityKey('ChatproxyPresence','debug_presence.sucess');});}.bind(this));};h.prototype.getRTISession=function(){'use strict';return this.$ChatproxyPresence4;};h.prototype.updatePresenceInfo=function(i,j){'use strict';if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;c('PresenceStatus').resetPresenceData();}j=j.obj;var k=j.buddyList;c('PresenceStatus').setMultiChatproxy(k);var l=false;if(j.chatNotif!==undefined)l=this.$ChatproxyPresence3!==j.chatNotif;if(l)this.$ChatproxyPresence3=j.chatNotif;if(j.gamers)c('PresenceStatus').setPlayingCanvasGameFriends(j.gamers);if(l)this.$ChatproxyPresence1(c('AvailableListConstants').ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);c('debounceAcrossTransitions')(function(){this.$ChatproxyPresence1(c('AvailableListConstants').ON_AVAILABILITY_CHANGED);}.bind(this),0)();};h.prototype.getWebChatNotification=function(){'use strict';return this.$ChatproxyPresence3;};f.exports=h;},null);
__d('ChatConfig',['ChatConfigInitialData'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i={get:function(j,k){return j in h?h[j]:k;},set:function(j){if(arguments.length>1){var k={};k[j]=arguments[1];j=k;}Object.assign(h,j);},getDebugInfo:function(){return h;}};i.set(c('ChatConfigInitialData'));f.exports=i;},null);
__d('ChatDispatcher',['ExplicitRegistrationDispatcher'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});},null);
__d('ChatReliabilityTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ChatReliabilityLoggerConfig',this.$ChatReliabilityTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ChatReliabilityLoggerConfig',this.$ChatReliabilityTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ChatReliabilityTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ChatReliabilityTypedLogger1=babelHelpers['extends']({},this.$ChatReliabilityTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$ChatReliabilityTypedLogger1.event=j;return this;};h.prototype.setEventData=function(j){this.$ChatReliabilityTypedLogger1.event_data=j;return this;};var i={event:true,event_data:true};f.exports=h;},null);
__d('ChatReliabilityInstrumentation',['ChatReliabilityEvents','ChatReliabilityTypedLogger','MercuryConfig'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function(event,j){if(!c('MercuryConfig').EnableReliabilityLogging)return;new (c('ChatReliabilityTypedLogger'))().setEvent(event).setEventData(j).log();},i={logERROR:function(j){h(c('ChatReliabilityEvents').ERROR,j);},logCHANNEL_DISCONNECT:function(j){h(c('ChatReliabilityEvents').CHANNEL_DISCONNECT,j);},logCHANNEL_CONNECT:function(j){h(c('ChatReliabilityEvents').CHANNEL_CONNECT,j);},logCHANNEL_HISTORY_INVALID:function(j){h(c('ChatReliabilityEvents').CHANNEL_HISTORY_INVALID,j);},logMESSAGE_RECEIVED:function(j){h(c('ChatReliabilityEvents').MESSAGE_RECEIVED,j);},logCHANNEL_STALLED:function(j){h(c('ChatReliabilityEvents').CHANNEL_STALLED,j);},logCHANNEL_INIT:function(j){h(c('ChatReliabilityEvents').CHANNEL_INIT,j);},logCHANNEL_NOCONFIG:function(j){h(c('ChatReliabilityEvents').CHANNEL_NOCONFIG,j);}};f.exports=i;},null);
__d('PresenceStatusActionTypes',['keyMirror'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({AVAILABILITY_CHANGED:null});},null);
__d("TypingStates",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={INACTIVE:0,TYPING:1,QUITTING:2};f.exports=h;},null);
__d('AvailableList',['Arbiter','ArbiterMixin','AsyncRequest','AvailableListConstants','BanzaiODS','Bootloader','ChannelConstants','ChatConfig','ChatDispatcher','ChatproxyPresence','ChatReliabilityInstrumentation','ChatVisibility','CurrentUser','ErrorUtils','JSLogger','LastActiveTimes','PresencePrivacy','PresenceStatus','PresenceStatusActionTypes','Run','ServerTime','ShortProfiles','TypingStates','debounceAcrossTransitions','emptyFunction','requireWeak'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();c('BanzaiODS').setEntitySample('presence',.0001);var h=babelHelpers['extends']({},c('AvailableListConstants'),c('ArbiterMixin'));h.subscribe([c('AvailableListConstants').ON_AVAILABILITY_CHANGED,c('AvailableListConstants').ON_UPDATE_ERROR],function(p,q){c('Arbiter').inform(p,q);});var i=c('debounceAcrossTransitions')(function(){h.inform(c('AvailableListConstants').ON_AVAILABILITY_CHANGED);c('ChatDispatcher').dispatch({type:c('PresenceStatusActionTypes').AVAILABILITY_CHANGED});},0);function j(p,q,r,s,t){if(p===c('CurrentUser').getID())return;var u=c('PresenceStatus').set(p,q,r,s,t);if(u){var v=c('debounceAcrossTransitions')(function(){h.inform(c('AvailableListConstants').ON_AVAILABILITY_CHANGED,p);c('ChatDispatcher').dispatch({type:c('PresenceStatusActionTypes').AVAILABILITY_CHANGED,id:p});},0);v();}}function k(p){var q=p.payload.availability||{};for(var r in q)j(r&&r.toString(),q[r].a,true,'mercury_tabs',q[r].c);}function l(p){var q=h.getDebugInfo(p),r=q.presence==c('AvailableListConstants').ACTIVE;new (c('AsyncRequest'))('/ajax/mercury/tabs_presence.php').setData({target_id:p,to_online:r,presence_source:q.overlaySource,presence_time:q.overlayTime}).setHandler(k).setErrorHandler(c('emptyFunction')).setAllowCrossPageTransition(true).send();}function m(p,q){q.chat_config=c('ChatConfig').getDebugInfo();q.available_list_debug_info={count:c('PresenceStatus').getOnlineIDs().length};}var n=undefined;try{n=new (c('ChatproxyPresence'))(function(event){h.inform(event);});n.subscribe();}catch(o){c('ErrorUtils').reportError&&c('ErrorUtils').reportError(o,false);c('ChatReliabilityInstrumentation').logERROR(o.getMessage());}Object.assign(h,{getChatproxyPresenceObject:function(){return n;},get:function(p){return c('PresenceStatus').get(p);},updateForID:function(p){l(p);if(c('PresencePrivacy').getVisibility()==c('PresencePrivacy').ONLINE)c('Run').onAfterLoad(function(){return (c('Bootloader').loadModules(["ChannelManager","ChannelTransport"],function(q,r){r.sendAdditionalBuddyRequest(q.getCompleteConfig(),p);},'AvailableList'));});},getWebChatNotification:function(){return n&&n.getWebChatNotification();},isReady:function(){return !!n;},set:function(p,q,r,s){j(p,q,true,r,s);},getDebugInfo:function(p){var q=c('PresenceStatus').getDebugInfo(p),r=c('ShortProfiles').getNow(p);if(r)q.name=r.name;return q;}});c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,m);c('PresencePrivacy').subscribe(['privacy-changed','privacy-availability-changed','privacy-user-presence-response'],i);c('requireWeak')('ChannelConnection',function(p){return (p.subscribe([p.CONNECTED,p.RECONNECTING,p.SHUTDOWN,p.MUTE_WARNING,p.UNMUTE_WARNING],i));});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('buddylist_overlay'),function(p,q){var r={},s=q.obj.overlay;for(var t in s){h.set(t,s[t].a,s[t].s||'channel',s[t].vc);if(s[t].la)r[t]=s[t].la;}c('LastActiveTimes').update(r);});c('Arbiter').subscribe([c('ChannelConstants').getArbiterType('typ'),c('ChannelConstants').getArbiterType('ttyp')],function(p,q){var r=q.obj;if(r.st===c('TypingStates').TYPING){var s=r.from;if(c('ChatVisibility').isOnline()){c('BanzaiODS').bumpEntityKey('presence','stale_presence_check_typing');var t=c('PresenceStatus').get(s);if(t!=c('AvailableListConstants').ACTIVE){var u=c('LastActiveTimes').get(s)*1000,v=c('ServerTime').get();if(!u){c('BanzaiODS').bumpEntityKey('presence','no_detailed_presence_typing');}else if(v-u>5*60*1000){var w='stale_presence_typing',x=v-u;if(x<10*60*1000){w+='600';}else if(x<60*60*1000)w+='3600';c('BanzaiODS').bumpEntityKey('presence',w);}}}h.set(s&&s.toString(),c('AvailableListConstants').ACTIVE,'channel-typing');}});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('messaging'),function(p,q){if(!c('ChatVisibility').isOnline())return;var r=q.obj;if(r.message&&r.message.timestamp&&r.message.sender_fbid){var s=c('ServerTime').get(),t=r.message.timestamp;if(s-t<2*60*1000){c('BanzaiODS').bumpEntityKey('presence','stale_presence_check');var u=r.message.sender_fbid,v=c('PresenceStatus').get(u);if(v==c('AvailableListConstants').ACTIVE)return;var w=c('LastActiveTimes').get(u)*1000;if(!w){c('BanzaiODS').bumpEntityKey('presence','no_detailed_presence');}else if(t-w>5*60*1000){var x='stale_presence',y=t-w;if(y<10*60*1000){x+='600';}else if(y<60*60*1000)x+='3600';c('BanzaiODS').bumpEntityKey('presence',x);}}}});f.exports=h;},null);
__d('Poller',['ArbiterMixin','AsyncRequest','CurrentUser','emptyFunction','mixin','setTimeoutAcrossTransitions','setTimeout'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(l){'use strict';i.constructor.call(this);this._config=babelHelpers['extends']({clearOnQuicklingEvents:true,setupRequest:c('emptyFunction'),interval:null,maxRequests:Infinity,dontStart:false},l);this._handle=null;this._isSkipIndefinitely=false;this._hasSkippedRequest=false;this._requests=0;this._muted=false;this._polling=false;this._skip=false;this._cancelRequest=c('emptyFunction');if(!this._config.dontStart)this.start();}j.prototype.start=function(){'use strict';if(this._polling)return this;this._requests=0;this.request();return this;};j.prototype.stop=function(){'use strict';this._cancelRequest();return this;};j.prototype.mute=function(){'use strict';this._muted=true;return this;};j.prototype.resume=function(){'use strict';if(this._muted){this._muted=false;if(this._handle===null&&this._polling)return this.request();}if(this._isSkipIndefinitely){this._isSkipIndefinitely=false;return this.request();}return this;};j.prototype.skip=function(){'use strict';this._skip=true;return this;};j.prototype.startSkipIndefinitely=function(){'use strict';this._isSkipIndefinitely=true;return this;};j.prototype.stopSkipIndefinitely=function(){'use strict';this._isSkipIndefinitely=false;if(this._hasSkippedRequest){return this.request();}else return this;};j.prototype.isSkipIndefinitely=function(){'use strict';return this._isSkipIndefinitely;};j.prototype.reset=function(){'use strict';return this.stop().start();};j.prototype.request=function(){'use strict';this._cancelRequest();this._polling=true;if(!this._config.allowNotLoggedIn&&!k())return this._done();if(this._muted)return this;var l=false;this._cancelRequest=function(){l=true;this._cleanup();}.bind(this);if(this._isSkipIndefinitely){this._deferRequest();this._hasSkippedRequest=true;return this;}else this._hasSkippedRequest=false;if(++this._requests>this._config.maxRequests)return this._done();var m=new (c('AsyncRequest'))();m.setIsBackgroundRequest(true);m.setInitialHandler(function(){return !l;});m.setFinallyHandler(this._deferRequest.bind(this));m.setInitialHandler=c('emptyFunction');m.setFinallyHandler=c('emptyFunction');this._config.setupRequest(m,this);if(this._skip){this._skip=false;c('setTimeoutAcrossTransitions')(this._deferRequest.bind(this),0);}else m.send();return this;};j.prototype.isPolling=function(){'use strict';return this._polling;};j.prototype.isMuted=function(){'use strict';return this._muted;};j.prototype.setInterval=function(l){'use strict';if(l){this._config.interval=l;this.start();}};j.prototype.getInterval=function(){'use strict';return this._config.interval;};j.prototype._cleanup=function(){'use strict';if(this._handle!==null)clearTimeout(this._handle);this._handle=null;this._cancelRequest=c('emptyFunction');this._polling=false;};j.prototype._done=function(){'use strict';this._cleanup();this.inform('done',{sender:this});return this;};j.prototype._deferRequest=function(){'use strict';if(!this._polling)return;if(this._requests<this._config.maxRequests){var l=this._config.interval;l=typeof l==='function'?l(this._requests):l;l=l>j.MIN_INTERVAL?l:j.MIN_INTERVAL;if(this._config.clearOnQuicklingEvents){this._handle=c('setTimeout')(this.request.bind(this),l);}else this._handle=c('setTimeoutAcrossTransitions')(this.request.bind(this),l);}else this._done();};j.MIN_INTERVAL=2000;function k(){return c('CurrentUser').isLoggedInNow();}f.exports=j;},null);
__d('ChatImpressionLogger',['AsyncSignal','ChatConfig','ChatVisibility','Poller','PresencePrivacy','PresenceStatus','requireWeak','debounceAcrossTransitions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;c('requireWeak')('AvailableList',function(m){return h=m;});var i=null;function j(m){if(!i){m([]);}else i.getSortedList(function(n){return m(n);});}function k(m){if(!i||!h)return '';var n=[];for(var o=0;o<m.length;o++)n[o]=h.get(m[o]);return n.toString();}var l={init:function(m){i=m;j(function(n){var o,p=n.toString(),q=k(n),r=c('ChatConfig').get('chat_impression_logging_periodical',0);if(r)(function(){var s=c('ChatConfig').get('periodical_impression_logging_config.interval'),t=new (c('Poller'))({interval:s,setupRequest:function(u){u.setURI('/ajax/chat/imps_logging.php').setData({list_availability:q,sorted_list:p,source:'periodical_imps'});},clearOnQuicklingEvents:false,dontStart:true});c('PresencePrivacy').subscribe('privacy-user-presence-changed',c('debounceAcrossTransitions')(function(){if(c('ChatVisibility').isOnline()){t.start();}else t.stop();}));})();});this.init=function(){};},logImpression:function(m,n,o){j(function(p){var q=c('ChatConfig').get('chat_impression_logging_with_click'),r={list_availability:q?k(p):'',sorted_list:q?p.toString():'',source:m,target:n,target_presence:c('PresenceStatus').get(n),viewport_width:document.body.clientWidth};new (c('AsyncSignal'))('/ajax/chat/ct.php',Object.assign(r,o)).send();});}};f.exports=l;},null);
__d('ChatTypeaheadConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',MEETING_ROOM_PAGE_TYPE:'meeting_room_page',COMMERCE_PAGE_TYPE:'commerce_page',HEADER_TYPE:'header'};f.exports=h;},null);
__d('WebMessengerPermalinkConstants',['URI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ARCHIVED_PATH:'/messages/archived',BASE_PATH:'/messages',PENDING_PATH:'/messages/pending',OTHER_PATH:'/messages/other',SPAM_PATH:'/messages/spam',COMPOSE_POSTFIX_PATH:'/new',SEARCH_POSTFIX_PATH:'/search',TID_POSTFIX_PARTIAL_PATH:'/conversation-',overriddenVanities:'(archived|other|pending|spam|new|search|conversation-.*)',getURIPathForThreadID:function(i,j){return (j||h.BASE_PATH)+h.TID_POSTFIX_PARTIAL_PATH+c('URI').encodeComponent(c('URI').encodeComponent(i));},getThreadIDFromURI:function(i){var j=i.getPath().match(h.BASE_PATH+'(/[^/]*)*'+h.TID_POSTFIX_PARTIAL_PATH+'([^/]+)');if(j){var k=c('URI').decodeComponent(c('URI').decodeComponent(j[2]));return k;}},getURIPathForIDOrVanity:function(i,j){if(i.match('^'+h.overriddenVanities+'$'))i='.'+i;return (j||h.BASE_PATH)+'/'+i;},getUserIDOrVanity:function(i){var j=i.match(h.BASE_PATH+'.*/([^/]+)/?$'),k=j&&j[1],l=h.overriddenVanities;if(!k||k.match('^'+l+'$')){return false;}else if(k.match('^\\.'+l+'$')){return k.substr(1);}else return k;}};f.exports=h;},null);
__d('ChatOpenTab',['csx','ChatTypeaheadConstants','ContextualThing','Event','MercuryIDs','MercuryParticipantTypes','Parent','URI','WorkFocusModeController','WebMessengerPermalinkConstants','curry','emptyFunction','goURI','ifRequired','requireWeak'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('WorkFocusModeController').WorkFocusMode,j=null;c('requireWeak')('ChatApp',function(u){return j=u;});function k(u,v){var w=u?new (c('URI'))(c('WebMessengerPermalinkConstants').getURIPathForThreadID(u)):new (c('URI'))(c('WebMessengerPermalinkConstants').BASE_PATH+c('WebMessengerPermalinkConstants').COMPOSE_POSTFIX_PATH);if(v)w.addQueryData({ref:v});c('ifRequired')('BusinessURI.brands',function(x){return c('goURI')(x(w));},function(){return c('goURI')(w);});}function l(u,v){var w=c('MercuryIDs').getThreadIDFromUserID(u);i&&i.addBypassFocusModeForThread(w);k(w,v);}function m(u,v,w){var x=c('MercuryIDs').getThreadIDFromUserID(v);i&&i.addBypassFocusModeForThread(x);l(v,w);}function n(u,v){var w=c('MercuryIDs').getThreadIDFromUserID(u);i&&i.addBypassFocusModeForThread(w);k(w,v);}function o(u,v){k(null,v);}function p(u,v,w,x){c('Event').listen(u,'click',function(y){if(t.canOpenTab()){x(v,w);return y.kill();}});}function q(u,v,w,x){c('Event').listen(u,'click',function(y){if(t.canOpenTab())x(v,w);});}function r(u,v,w,x){t.impl()._logChatOpenTabEvent(u,v,w,x);}function s(u){var v=c('ContextualThing').getContext(u);return v&&c('Parent').bySelector(v,"._3qw")!==null;}var t={canOpenTab:function(){return j&&!j.isHidden();},openEmptyTab:function(u,v,w){t.impl().openEmptyTab(u,v,w);},listenOpenEmptyTab:function(u,v){p(u,null,v,t.openEmptyTab);},openThread:function(u,v,w,x,y){t.impl().openThreadTab(u,v,w,x,y);},openClientTab:function(u,v,w,x,y){var z=t.impl();z.openClientTab(u,x,y);z._logChatOpenTabEvent(v,u,null,w);},listenOpenThread:function(u,v,w){p(u,v,w,t.openThread);},openUserTab:function(u,v,w){t.impl().openUserTab(u,v,w);},openPageTab:function(u,v,w){t.impl().openPageTab(u,v,w);return true;},listenOpenUserTab:function(u,v,w){if(!s(u))p(u,v,w,t.openUserTab);},listenOpenUserTabPersistentEvent:function(u,v,w){if(!s(u))q(u,v,w,t.openUserTab);},listenOpenPageTab:function(u,v,w,x){if(!s(u))p(u,v,x,c('curry')(t.openPageTab,w));},listenOpenPageTabPersistentEvent:function(u,v,w,x){if(!s(u))q(u,v,x,c('curry')(t.openPageTab,w));},openTabByType:function(u,v,w){if(v===c('ChatTypeaheadConstants').THREAD_TYPE){if(u){this.openThread(u,w);}else this.openEmptyTab(null,w);}else if(v===c('ChatTypeaheadConstants').MEETING_ROOM_PAGE_TYPE){var x=c('MercuryIDs').getUserIDFromThreadID(u);c('goURI')('/'+x);}else if(!v||v===c('MercuryParticipantTypes').FRIEND||v===c('ChatTypeaheadConstants').FRIEND_TYPE||v===c('ChatTypeaheadConstants').PAGE_TYPE||v===c('ChatTypeaheadConstants').USER_TYPE){if(c('MercuryIDs').isValidThreadID(u))u=c('MercuryIDs').getUserIDFromThreadID(u);this.openUserTab(u,w);}else this.openThread(u,w);},impl:function(){if(j&&j.isInitialized()&&!j.isHidden()&&j.chatOpenTabImpl){return j.chatOpenTabImpl;}else return {openClientTab:k,openUserTab:l,openEmptyTab:o,openThreadTab:n,openPageTab:m,_logChatOpenTabEvent:c('emptyFunction')};}};f.exports=t;},null);
__d('ChatSidebarActionTypes',['keyMirror'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null});},null);
__d("ChatSidebarHideReason",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={VIEWPORT_INCAPABLE:0,LOW_FRIEND_COUNT:1,NOT_ENABLED:2};f.exports=h;},null);
__d('ChatSidebarStore',['ChatDispatcher','ChatOptionsInitialData','ChatSidebarActionTypes','FluxStore','SidebarType','performanceAbsoluteNow'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('ChatDispatcher'));this.$ChatSidebarStore2={initialized:false,initTime:c('performanceAbsoluteNow')(),loaded:false,enabled:!!c('ChatOptionsInitialData').sidebar_mode,visible:null};this.$ChatSidebarStore1={};}j.prototype.__onDispatch=function(k){var l=k.type;this.$ChatSidebarStore1=babelHelpers['extends']({},this.$ChatSidebarStore2);switch(l){case c('ChatSidebarActionTypes').INIT:if(!this.$ChatSidebarStore1.initialized)this.$ChatSidebarStore2.initTime=c('performanceAbsoluteNow')();this.$ChatSidebarStore2.initialized=true;break;case c('ChatSidebarActionTypes').LOADED:this.$ChatSidebarStore2.loaded=true;break;case c('ChatSidebarActionTypes').SHOW:this.$ChatSidebarStore2.visible=k.sidebarType;break;case c('ChatSidebarActionTypes').SET_ENABLED:this.$ChatSidebarStore2.enabled=k.enabled;this.$ChatSidebarStore2.visible=k.sidebarType;break;}for(var m in this.$ChatSidebarStore2)if(this.$ChatSidebarStore2.hasOwnProperty(m))if(this.$ChatSidebarStore2[m]!==this.$ChatSidebarStore1[m]){this.__emitChange();break;}};j.prototype.getPrevState=function(){return this.$ChatSidebarStore1;};j.prototype.getState=function(){return this.$ChatSidebarStore2;};j.prototype.isInitialized=function(){return this.$ChatSidebarStore2.initialized;};j.prototype.isLoaded=function(){return this.$ChatSidebarStore2.loaded;};j.prototype.isEnabled=function(){return this.$ChatSidebarStore2.enabled;};j.prototype.getInitTime=function(){return this.$ChatSidebarStore2.initTime;};j.prototype.getVisibleType=function(){return this.$ChatSidebarStore2.visible;};f.exports=new j();},null);
__d('ChatSidebarPreloadStore',['ChatGraphQLSidebar','InitialChatFriendsList'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('ChatGraphQLSidebar').Preloader,i={onLoaded:function(j){if(h){h.onLoaded(function(k){var l=k.buddies,m=k.groups;return j({buddies:l,groups:m});});}else j({buddies:c('InitialChatFriendsList').list||[],groups:c('InitialChatFriendsList').groups||[]});}};f.exports=i;},null);
__d('OrderedFriendsList',['AvailableListConstants','ChatSidebarPreloadStore','MercuryIDs','PresenceStatus','SearchableEntry','ShortProfiles','WorkModeConfig','createArrayFromMixed','isValidUniqueID','InitialChatFriendsList'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null,i={},j=[],k={};function l(r){r=String(r);return c('MercuryIDs').isValid(r)?r:c('MercuryIDs').getParticipantIDFromUserID(r);}function m(r,s){var t=c('createArrayFromMixed')(r);s(t.filter(function(u){var v=c('ShortProfiles').getNow(u);return !v||p(v)||v.is_nonfriend_messenger_contact;}));}function n(r){h=[];var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(c('PresenceStatus').get(u)==v){h[s]=u;i[u]=s++;}});}function o(r){var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(v==c('AvailableListConstants').ACTIVE){j[s]=u;k[u]=s++;}});}function p(r){return r.type==='friend'||c('WorkModeConfig').is_work_user&&r.type==='fb4c';}var q={contains:function(r){return r in i;},getList:function(r){if(h&&h.length){m(h,r);return;}c('ChatSidebarPreloadStore').onLoaded(function(s){var t=s.buddies;n(t);m(h,r);});},getSearchableEntries:function(r,s){q.getList(function(t){c('ChatSidebarPreloadStore').onLoaded(function(u){var v=u.groups;c('ShortProfiles').getMulti(t.slice(0,r),function(w){var x=[];for(var y in w)x.push(q.normalizeProfileEntry(w[y],y));var z=v.map(q.normalizeThreadEntry);s(x.concat(z).filter(function(aa){return !!aa;}).sort(function(aa,ba){return aa.getOrder()-ba.getOrder();}));});});});},normalizeProfileEntry:function(r,s){var t=r.searchTokens||[],u=r.name,v=null;if(r.threadNickname){u=r.threadNickname;v=r.name;}return new (c('SearchableEntry'))({uniqueID:r.id||s,keywordString:t.join(' '),order:q.getRank(r.id||s),photo:r.thumbSrc,title:u,subtitle:v,type:r.type,uri:r.uri,auxiliaryData:{isMessengerUser:r.is_messenger_user}});},normalizeThreadEntry:function(r,s){var t=r.mercury_thread,u=r.participants_to_render.map(function(z){return babelHelpers['extends']({},z,{id:l(z.id)});});t.participants=t.participants.map(l);var v=r.text,w=null;if(!v)v=t.name;var x=u.map(function(z){return z.name;}).join(', ');if(!v){v=x;}else w=x;var y=r.uid;if(!v||!c('isValidUniqueID')(y))return null;return new (c('SearchableEntry'))({uniqueID:y,order:s,photo:t.image_src,title:v,subtitle:w,type:'thread',auxiliaryData:{participantsToRender:u,thread:t}});},getRank:function(r){if(r in i)return i[r];return h?h.length:0;},getActiveList:function(r){if(j.length>0){r(j);return;}q.getList(function(s){return r(s);});},getActiveRank:function(r){return r in k?k[r]:q.getRank(r);}};(function(){var r=c('InitialChatFriendsList');if(r.shortProfiles)c('ShortProfiles').setMulti(r.shortProfiles);c('ChatSidebarPreloadStore').onLoaded(function(s){var t=s.buddies;o(t);n(t);});})();f.exports=q;},null);
__d('ChatSidebarVisibility',['ChatConfig','ChatSidebarHideReason','ChatSidebarStore','OrderedFriendsList','SidebarType','getViewportDimensions'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('ChatConfig').get('sidebar.min_friends'),i=c('ChatConfig').get('sidebar.minimum_width'),j={getViewport:function(){return c('getViewportDimensions').withoutScrollbars();},shouldShowSidebar:function(k,l){j.shouldShowSidebarIgnoreEnabled(k,function(m,n){var o=c('ChatSidebarStore').isEnabled();l(m&&o,o?n:n.concat([c('ChatSidebarHideReason').NOT_ENABLED]));});},shouldShowSidebarIgnoreEnabled:function(k,l){c('OrderedFriendsList').getActiveList(function(m){var n=k||j.getViewport(),o=n.width>i,p=m.length<=h,q=true,r=[];if(!o){q=false;r.push(c('ChatSidebarHideReason').VIEWPORT_INCAPABLE);}if(p){q=false;r.push(c('ChatSidebarHideReason').LOW_FRIEND_COUNT);}l(q,r);});},isSidebarVisible:function(){return c('ChatSidebarStore').getVisibleType()===c('SidebarType').SIDEBAR;},isBuddyListVisible:function(){return c('ChatSidebarStore').getVisibleType()===c('SidebarType').BUDDYLIST;}};f.exports=j;},null);
__d('ChatSidebarActions',['ChatDispatcher','ChatSidebarActionTypes','ChatSidebarVisibility','SidebarType'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={init:function(){c('ChatDispatcher').dispatch({type:c('ChatSidebarActionTypes').INIT});},loaded:function(){c('ChatDispatcher').dispatch({type:c('ChatSidebarActionTypes').LOADED});},disable:function(){c('ChatDispatcher').dispatch({type:c('ChatSidebarActionTypes').SET_ENABLED,enabled:false,sidebarType:c('SidebarType').BUDDYLIST});},enable:function(i){c('ChatDispatcher').dispatch({type:c('ChatSidebarActionTypes').SET_ENABLED,enabled:true,sidebarType:i});},show:function(i){c('ChatDispatcher').dispatch({type:c('ChatSidebarActionTypes').SHOW,sidebarType:i});}};f.exports=h;},null);
__d('FBRTCDispatcher',['Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('Dispatcher_DEPRECATED'))();},null);
__d('FBRTCStore',['FBRTCDispatcher','FluxStore'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('FBRTCDispatcher'));}j.prototype.__emitChange=function(){this.__emitter.emit(this.__changeEvent);};f.exports=j;},null);
__d('FBRTCCallBlockingStore',['Arbiter','AsyncRequest','BanzaiLogger','ChannelConstants','FBRTCDispatcher','FBRTCStore','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=false,k=0,l=null,m='call_block_setting_changed';h=babelHelpers.inherits(n,c('FBRTCStore'));i=h&&h.prototype;n.prototype.init=function(o){this.$FBRTCCallBlockingStore1(o);c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('videocall_block_setting'),this.$FBRTCCallBlockingStore2.bind(this));};n.prototype.__onDispatch=function(o){if(o.type!==m)return;this.$FBRTCCallBlockingStore1(o.data);};n.prototype.$FBRTCCallBlockingStore1=function(o){switch(o){case 0:j=false;this.$FBRTCCallBlockingStore3();break;case -1:j=true;this.$FBRTCCallBlockingStore3();break;default:j=true;this.$FBRTCCallBlockingStore4(o);}this.__emitChange();};n.prototype.$FBRTCCallBlockingStore4=function(o){if(l===null)l=c('setTimeoutAcrossTransitions')(this.turnOnVideoCalling.bind(this),o*1000);};n.prototype.getBlockingStatus=function(){return j;};n.prototype.turnOnVideoCalling=function(){new (c('AsyncRequest'))('/ajax/chat/settings.php').setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send();};n.prototype.turnOffVideoCalling=function(o){k=o;new (c('AsyncRequest'))('/ajax/chat/settings.php').setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:o}).send();};n.prototype.$FBRTCCallBlockingStore3=function(){if(l){clearTimeout(l);l=null;}};n.prototype.$FBRTCCallBlockingStore5=function(){c('FBRTCDispatcher').dispatch({type:m,data:0});c('BanzaiLogger').log('VideoCallLoggerConfig',{event:m,message:'enable'});};n.prototype.$FBRTCCallBlockingStore6=function(){c('FBRTCDispatcher').dispatch({type:m,data:k});c('BanzaiLogger').log('VideoCallLoggerConfig',{event:m,message:'disable_'+k});};n.prototype.$FBRTCCallBlockingStore2=function(o,p){c('FBRTCDispatcher').dispatch({type:m,data:p.obj.value});};function n(){h.apply(this,arguments);}f.exports=new n();},null);
__d('ChatOptions',['Arbiter','ChannelConstants','ChatSidebarActions','ChatSidebarVisibility','FBRTCCallBlockingStore','JSLogger','PresenceUtil','SidebarType','ChatOptionsInitialData'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('JSLogger').create('chat_options'),i={};(function(){var k=c('ChatOptionsInitialData');for(var l in k){var m=k[l];if(l==='call_blocked_until'){c('FBRTCCallBlockingStore').init(m);}else i[l]=!!m;}})();var j=Object.assign(new (c('Arbiter'))(),{getSetting:function(k){return i[k];},setSetting:function(k,l,m){if(k==='sidebar_mode'){c('ChatSidebarVisibility').shouldShowSidebarIgnoreEnabled(null,function(n,o){if(l){c('ChatSidebarActions').enable(n?c('SidebarType').SIDEBAR:c('SidebarType').BUDDYLIST);}else c('ChatSidebarActions').disable();});return;}if(this.getSetting(k)==l)return;if(m){m='from_'+m;h.log(m,{name:k,new_value:l,old_value:this.getSetting(k)});}i[k]=!!l;c('Arbiter').inform('chat/option-changed',{name:k,value:l});}});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('setting'),function(k,l){var m=l.obj;if(m.window_id===c('PresenceUtil').getSessionID())return;j.setSetting(m.setting,!!m.value,'channel');});c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(k,l){l.chat_options=i;});f.exports=j;},null);
__d('ChatQuietLinks',['DataStore','DOM','Event','Parent','UserAgent_DEPRECATED','getOrCreateDOMID'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i={silenceLinks:function(m){j(m,this.removeEmptyHrefs.bind(this));},nukeLinks:function(m){j(m,this.removeAllHrefs.bind(this));},removeEmptyHrefs:function(m){k(m,function(n){return !n||n==='#';});},removeAllHrefs:function(m){k(m);}};function j(m,n){var o=!!c('UserAgent_DEPRECATED').chrome(),p=!!c('UserAgent_DEPRECATED').chrome()||c('UserAgent_DEPRECATED').ie()>=9||c('UserAgent_DEPRECATED').firefox()>=4;if(h[c('getOrCreateDOMID')(m)])return;h[c('getOrCreateDOMID')(m)]=true;if(!p)return;if(!o){n&&n(m);return;}c('Event').listen(m,'mouseover',function q(r){var s=c('Parent').byTag(r.getTarget(),'a');if(s){var t=s.getAttribute('href');if(l(t)){c('DataStore').set(s,'stashedHref',s.getAttribute('href'));s.removeAttribute('href');}}});c('Event').listen(m,'mouseout',function q(r){var s=c('Parent').byTag(r.getTarget(),'a'),t=s&&c('DataStore').remove(s,'stashedHref');if(l(t))s.setAttribute('href',t);});c('Event').listen(m,'mousedown',function(q){if(!q.isDefaultRequested())return true;var r=c('Parent').byTag(q.getTarget(),'a'),s=r&&c('DataStore').get(r,'stashedHref');if(l(s))r.setAttribute('href',s);});}function k(m,n){var o=c('DOM').scry(m,'a');if(n)o=o.filter(function(p){return n(p.getAttribute('href'));});o.forEach(function(p){p.removeAttribute('href');if(!p.tabIndex)p.setAttribute('tabindex',0);});}function l(m){return m&&m!=='#';}f.exports=i;},null);
__d('SplitImage.react',['cx','React','Image.react','joinClasses'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return l=(m=j.constructor).call.apply(m,[this].concat(o)),this.renderImages=function(){if(!this.props.srcs)return null;var q=this.props.srcs,r=Array.isArray(q);if(r){q=q.filter(function(s){return s!==null;});if(!q.length)return null;}if(!r||q.length==1)return this.renderOne(r?q[0]:q);return q.length==2?this.renderTwo(q):this.renderThree(q);}.bind(this),this.renderOne=function(q){return (c('React').createElement(c('Image.react'),{src:q,width:this.props.size,height:this.props.size,alt:''}));}.bind(this),this.renderTwo=function(q){var r=this.props.size,s=Math.floor(r/2),t=-Math.floor(s/2),u="_55lu"+(this.props.border?' '+"_57xo":'');return (c('React').createElement('div',null,c('React').createElement('div',{className:"_55lu",style:{width:s}},c('React').createElement(c('Image.react'),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:''})),c('React').createElement('div',{className:u,style:{width:s}},c('React').createElement(c('Image.react'),{src:q[1],width:r,height:r,style:{marginLeft:t},alt:''}))));}.bind(this),this.renderThree=function(q){var r=this.props.size,s=Math.floor(r/3*2),t=-Math.floor((r-s)/2),u=Math.floor(r/2),v=r-s,w=-Math.floor((u-v)/2),x="_55lu"+(this.props.border?' '+"_57pl":''),y="_55lu"+(this.props.border?' '+"_57pm":'');return (c('React').createElement('div',null,c('React').createElement('div',{className:x,style:{width:s}},c('React').createElement(c('Image.react'),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:''})),c('React').createElement('div',{className:y,style:{width:v,height:u}},c('React').createElement(c('Image.react'),{src:q[1],width:u,height:u,style:{marginLeft:w},alt:''})),c('React').createElement('div',{className:"_55lu",style:{width:v,height:u}},c('React').createElement(c('Image.react'),{src:q[2],width:u,height:u,style:{marginLeft:w},alt:''}))));}.bind(this),l;}k.prototype.render=function(){'use strict';var l=this.props.size;return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_55lt"),style:babelHelpers['extends']({},this.props.style||{},{width:l,height:l})}),this.renderImages());};f.exports=k;},null);
__d('AbstractBadge.react',['cx','invariant','React','joinClasses'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;function m(o){return parseInt(o,10)===o;}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o=this.props.count,p=this.props.maxcount;!m(o)?i(0):void 0;!m(p)?i(0):void 0;var q="_51lp"+(o>p?' '+"_51lr":'')+(o===0?' '+"hidden_elem":'');return (c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,q)}),o>p?p+'+':o));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={count:l.number.isRequired,maxcount:l.number};n.defaultProps={maxcount:20};f.exports=n;},null);
__d('XUIBadge.react',['cx','React','AbstractBadge.react','joinClasses'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.type,n="_5ugh"+(m==='regular'?' '+"_5ugf":'')+(m==='special'?' '+"_5ugg":'');return (c('React').createElement(c('AbstractBadge.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),type:null})));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={type:k.oneOf(['regular','special'])};l.defaultProps={type:'regular'};f.exports=l;},null);
__d('messengerIterateEmoji',['MessengerSupportedEmoji'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l,m,n,o=String(i);while(o){var p=c('MessengerSupportedEmoji').findEmoji(o);if(p){l=o.substr(0,p.index);m=p[0];n=o.substr(p.index+m.length);k(l);j(m,p.emoji);o=n;}else break;}k(o);}f.exports=h;},null);
__d('messengerIterateEmoticons',['EmoticonEmojiList'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l,m,n,o,p,q=String(i);while(q){var r=c('EmoticonEmojiList').regexp.exec(q);if(r){l=r.index+r[1].length;m=q.substr(0,l);n=r[2];o=q.substr(l+n.length);p=c('EmoticonEmojiList').names[n];k(m);j(n,p);q=o;}else break;}k(q);}f.exports=h;},null);
__d('RequestsJewelStore',['Arbiter','ArbiterMixin','ChannelConstants'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=babelHelpers['extends']({},c('ArbiterMixin'),{_initialized:false,_count:0,_requestList:{},addFriendRequests:function(i){Object.assign(this._requestList,i);},getRequestListKeys:function(){return Object.keys(this._requestList);},removeRequest:function(i){delete this._requestList[i];},getRequestCount:function(i){return this.getRequestListKeys().length;},decrementCount:function(){this.setCount(Math.max(0,this._count-1));},setCount:function(i){c('Arbiter').inform('jewel/count-updated',{jewel:'requests',count:i},c('Arbiter').BEHAVIOR_STATE);},setupListeners:function(){if(this._initialized)return;this._initialized=true;c('Arbiter').subscribe('jewel/count-updated',function(i,j){j.jewel==='requests'&&this._updateCount(j.count);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('jewel_requests_add'),function(i,j){return this._addRequest(j);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('jewel_friending_notifs'),function(i,j){return this._addNotification(j);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('jewel_requests_remove_old'),function(i,j){return this._removeOldRequest(j);}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('friend_requests_seen'),function(i,j){return this.setCount(0);}.bind(this));},_updateCount:function(i){var j=this._count!==i;this._count=i;if(j)this.inform('countUpdated',i);},_addRequest:function(i){if(!i)return;var j=i.obj,k=j.from,l=j.suggester,m=this._requestList[k];if(!m)this.setCount(this._count+1);var n=m?m.type:null,o=n===19&&!l;this.inform('addRequest',{shouldReplace:o,previousType:n});},_addNotification:function(i){if(!i||i.obj.notif_type!=='friend_confirmed')return;this.inform('addNotification');},_removeOldRequest:function(i){if(!i)return;var j=this._requestList[i.obj.from];if(!j)return;this.inform('removeOldRequest',j);}});f.exports=h;},null);
__d('ChatPerfTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ChatPerfLoggerConfig',this.$ChatPerfTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ChatPerfLoggerConfig',this.$ChatPerfTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ChatPerfTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ChatPerfTypedLogger1=babelHelpers['extends']({},this.$ChatPerfTypedLogger1,j);return this;};h.prototype.setDuration=function(j){this.$ChatPerfTypedLogger1.duration=j;return this;};h.prototype.setEndpoint=function(j){this.$ChatPerfTypedLogger1.endpoint=j;return this;};h.prototype.setEvent=function(j){this.$ChatPerfTypedLogger1.event=j;return this;};h.prototype.setTabsOpen=function(j){this.$ChatPerfTypedLogger1.tabs_open=j;return this;};var i={duration:true,endpoint:true,event:true,tabs_open:true};f.exports=h;},null);
__d('Dcode',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i={},j={_:'%',A:'%2',B:'000',C:'%7d',D:'%7b%22',E:'%2c%22',F:'%22%3a',G:'%2c%22ut%22%3a1',H:'%2c%22bls%22%3a',I:'%2c%22n%22%3a%22%',J:'%22%3a%7b%22i%22%3a0%7d',K:'%2c%22pt%22%3a0%2c%22vis%22%3a',L:'%2c%22ch%22%3a%7b%22h%22%3a%22',M:'%7b%22v%22%3a2%2c%22time%22%3a1',N:'.channel%22%2c%22sub%22%3a%5b',O:'%2c%22sb%22%3a1%2c%22t%22%3a%5b',P:'%2c%22ud%22%3a100%2c%22lc%22%3a0',Q:'%5d%2c%22f%22%3anull%2c%22uct%22%3a',R:'.channel%22%2c%22sub%22%3a%5b1%5d',S:'%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a',T:'%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a',U:'%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a',V:'%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a',W:'%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a',X:'%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1',Y:'%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a',Z:'%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a'};(function(){var l=[];for(var m in j){i[j[m]]=m;l.push(j[m]);}l.reverse();h=new RegExp(l.join("|"),'g');})();var k={encode:function(l){return encodeURIComponent(l).replace(/([_A-Z])|%../g,function(m,n){return n?'%'+n.charCodeAt(0).toString(16):m;}).toLowerCase().replace(h,function(m){return i[m];});},decode:function(l){return decodeURIComponent(l.replace(/[_A-Z]/g,function(m){return j[m];}));}};f.exports=k;},null);
__d('PresenceCookieManager',['Cookie','CurrentUser','Dcode','ErrorUtils','JSLogger','PresenceInitialData','PresenceUtil','URI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PresenceInitialData').cookieVersion,i='presence',j={},k=null,l=null,m=c('JSLogger').create('presence_cookie');function n(){try{var r=c('Cookie').get(i);if(k!==r){k=r;l=null;if(r&&r.charAt(0)=='E')r=c('Dcode').decode(r.substring(1));if(r)l=JSON.parse(r);}if(l){if(l.user&&l.user!==c('CurrentUser').getID())return null;if(l.v!==h)return null;return l;}}catch(q){m.warn('getcookie_error',q);}return null;}function o(){return parseInt(Date.now()/1000,10);}var p={register:function(q,r){j[q]=r;},store:function(){var q=n();if(q&&q.v&&h<q.v){m.debug('stale_cookie',h);return;}var r={v:h,time:o(),user:c('CurrentUser').getID()};for(var s in j)r[s]=c('ErrorUtils').applyWithGuard(j[s],j,[q&&q[s]],function(w){w.presence_subcookie=s;});var t='E'+c('Dcode').encode(JSON.stringify(r));if(c('PresenceUtil').hasUserCookie()){var u=t.length;if(u>1024)m.warn('big_cookie',u);var v=c('URI').getRequestURI(false).isSecure()&&!!c('Cookie').get('csm');c('Cookie').set(i,t,null,null,v);}},clear:function(){c('Cookie').clear(i);},getSubCookie:function(q){var r=n();if(!r)return null;return r[q];}};f.exports=p;},null);
__d('PresenceState',['Arbiter','ErrorUtils','JSLogger','PresenceCookieManager','debounceAcrossTransitions','setIntervalAcrossTransitions','PresenceInitialData'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PresenceInitialData').cookiePollInterval||2000,i=c('PresenceInitialData').shouldSuppress||false,j=[],k=[],l=null,m=null,n=0,o=null,p=0,q=['sb2','t2','lm2','uct2','tr','tw','at','wml'],r=c('JSLogger').create('presence_state');function s(){return c('PresenceCookieManager').getSubCookie('state');}function t(){n=Date.now();c('PresenceCookieManager').store();x(m);}var u=c('debounceAcrossTransitions')(t,0);function v(ca){if(typeof ca=='undefined'||isNaN(ca)||ca==Number.POSITIVE_INFINITY||ca==Number.NEGATIVE_INFINITY)ca=0;return ca;}function w(ca){var da={};if(ca){q.forEach(function(ga){da[ga]=ca[ga];});if(n<ca.ut)r.error('new_cookie',{cookie_time:ca.ut,local_time:n});}da.ut=n;for(var ea=0,fa=j.length;ea<fa;ea++)c('ErrorUtils').applyWithGuard(j[ea],null,[da]);m=da;return m;}function x(ca){p++;n=v(ca.ut);if(!l)l=c('setIntervalAcrossTransitions')(aa,h);m=ca;if(o===null)o=ca;for(var da=0,ea=k.length;da<ea;da++)c('ErrorUtils').applyWithGuard(k[da],null,[ca]);p--;}function y(ca){if(ca&&ca.ut)if(n<ca.ut){return true;}else if(ca.ut<n)r.error('old_cookie',{cookie_time:ca.ut,local_time:n});return false;}function z(){var ca=s();if(y(ca))m=ca;return m;}function aa(){var ca=s();if(y(ca))x(ca);}c('PresenceCookieManager').register('state',w);c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ca,da){da.presence_state={initial:babelHelpers['extends']({},o),state:babelHelpers['extends']({},m),update_time:n,sync_paused:p,poll_time:h};});(function(){var ca=z();if(ca){x(ca);}else{r.debug('no_cookie_initial');x(w());return;}})();var ba={doSync:function(ca){if(p)return;if(ca){t();}else u();},registerStateStorer:function(ca){j.push(ca);},registerStateLoader:function(ca){k.push(ca);},get:function(){return z();},getInitial:function(){return o;},shouldSuppress:function(){return i;},verifyNumber:v};f.exports=ba;},null);
__d('ChatPerfInstrumentation',['Promise','BaseEventEmitter','ChatPerfEvent','ChatPerfTypedLogger','PresenceState','emptyFunction','performanceAbsoluteNow'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=void 0,i=c('PresenceState').getInitial()&&c('PresenceState').getInitial().t2?c('PresenceState').getInitial().t2.length:null,j={_startTime:(Number),_sidebarStartTime:(Number),init:function(){this._startTime=c('performanceAbsoluteNow')();return new (c('Promise'))(function(k){return k();});},initDivebar:function(){this._sidebarStartTime=c('performanceAbsoluteNow')();},_log:function(event,k){var l=c('performanceAbsoluteNow')()-(k||this._startTime);if(h)h.emit(event,l);var m=new (c('ChatPerfTypedLogger'))();m.setEvent(event).setDuration(l);if(i!==null)m.setTabsOpen(i);m.log();},addPerfTimingsListener:function(event,k){if(!h)h=new (c('BaseEventEmitter'))();return h.once(event,k);},logInitStores:function(){this.logInitStores=c('emptyFunction');this._log(c('ChatPerfEvent').CHAT_INIT_STORES);},logInitData:function(){this.logInitData=c('emptyFunction');this._log(c('ChatPerfEvent').CHAT_INIT_DATA);},logInitUI:function(){this.logInitUI=c('emptyFunction');this._log(c('ChatPerfEvent').CHAT_INIT_UI);},logInitSound:function(){this.logInitSound=c('emptyFunction');this._log(c('ChatPerfEvent').CHAT_INIT_SOUND);},logDisplayDone:function(){this.logDisplayDone=c('emptyFunction');this._log(c('ChatPerfEvent').CHAT_DISPLAY_DONE);},logTTI:function(){this.logTTI=c('emptyFunction');this._log(c('ChatPerfEvent').TTI);},logCHAT_CONVERSATION_TTI:function(){this.logCHAT_CONVERSATION_TTI=c('emptyFunction');this._log(c('ChatPerfEvent').CHAT_CONVERSATION_TTI);},logSIDEBAR_FROM_CLIENT_TTI:function(){this.logSIDEBAR_FROM_CLIENT_TTI=c('emptyFunction');this._log(c('ChatPerfEvent').SIDEBAR_FROM_CLIENT_TTI,this._sidebarStartTime);},logSIDEBAR_DISPLAY_DONE:function(){this.logSIDEBAR_DISPLAY_DONE=c('emptyFunction');this._log(c('ChatPerfEvent').SIDEBAR_DISPLAY_DONE,this._sidebarStartTime);}};f.exports=j;},null);
__d('FBRTCSupport',['ChannelConstants','RTCConfig','UserAgent'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isSendWebrtcSupported:function(){return c('RTCConfig').SendNewVCGK;},isReceiveWebrtcSupported:function(){return c('RTCConfig').ReceiveNewVCGK;},isVideoInteropSupported:function(){return c('RTCConfig').VideoInteropGK;},isVideoCallBlockingSupported:function(){return c('RTCConfig').VideoCallBlockingGK;},isWebrtcSupported:function(){return (c('UserAgent').isBrowser('Chrome >= 28')||c('UserAgent').isBrowser('Firefox >= 25')||c('UserAgent').isBrowser('Opera >= 20'));},isCollabSupported:function(){return c('RTCConfig').CollabWhitelistedBrowserGK||c('UserAgent').isBrowser('Chrome >= 48');},isOSSupported:function(){return !c('UserAgent').isPlatform('Android')&&!c('UserAgent').isPlatform('iOS');},getCapabilities:function(){var i=0;if(this.isReceiveWebrtcSupported())i=c('ChannelConstants').CAPABILITY_VOIP_INTEROP;return i;}};f.exports=h;},null);
__d('ChatSidebar',['csx','Arbiter','AsyncRequest','Bootloader','ChatDispatcher','ChatImpressionLogger','ChatPerfInstrumentation','ChatSidebarActions','ChatSidebarHideReason','ChatSidebarStore','ChatSidebarVisibility','CSS','DOM','DOMDimensions','Event','LogHistory','JSLogger','KeyEventController','LitestandClassicPlaceHolders','Parent','PresencePrivacy','PresenceUtil','ScrollableArea','SidebarType','Style','TimeSlice','ViewportBounds','debounce','emptyFunction','ge'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j,k,l,m,n,o=false,p,q=true,r=null,s=c('LogHistory').getInstance('chat_sidebar');function t(){return c('ChatSidebarStore').getVisibleType()===c('SidebarType').SIDEBAR;}function u(ea,fa){if(!t())return;if(fa){m.hide();}else{m.show();x();}}function v(){return !t()||!l?0:206;}function w(){c('CSS').removeClass(document.documentElement,'sidebarMode');if(!c('ChatSidebarStore').isInitialized()){c('Arbiter').inform('reflow');c('ViewportBounds').inform('change');return;}m.hide();c('CSS').hide(l);c('CSS').hide(k);c('Arbiter').inform('sidebar/visibility',false,c('Arbiter').BEHAVIOR_STATE);c('Arbiter').inform('reflow');c('ViewportBounds').inform('change');}function x(ea){if(!ea||ea.width!==r.width)c('ChatSidebarVisibility').shouldShowSidebar(r,function(fa,ga){c('ChatSidebarActions').show(fa?c('SidebarType').SIDEBAR:c('SidebarType').BUDDYLIST);});if(!ea||ea.height!==r.height)aa();}function y(ea){var fa=r||c('ChatSidebarVisibility').getViewport(),ga=fa.height;ea.forEach(function(ha){if(ha&&ha!==i&&!c('CSS').hasClass(ha,'hidden_elem'))ga-=c('DOMDimensions').getElementDimensions(ha).height;});if(p)ga-=p.getOffset();if(n)ga-=c('DOMDimensions').getElementDimensions(n).height;return Math.max(0,ga);}function z(){c('CSS').show(k);c('CSS').show(l);c('CSS').addClass(document.documentElement,'sidebarMode');m.show();s.log('sidebar_show','{}');c('Arbiter').inform('sidebar/visibility',true,c('Arbiter').BEHAVIOR_STATE);c('LitestandClassicPlaceHolders').destroy('sidebar');c('ViewportBounds').inform('change');if(!o){aa();o=true;}}function aa(){if(!t())return;var ea=da.getBodyHeight(),fa=m.getItemHeight(),ga=8;c('Style').set(i,'height',ea+'px');var ha=Math.floor((ea-ga)/fa);m.setNumTopFriends(ha,q);q=false;var ia=Math.floor(ea-ga);c('Arbiter').inform('sidebar/resized',ia,c('Arbiter').BEHAVIOR_STATE);c('Arbiter').inform('reflow');}function ba(){new (c('AsyncRequest'))('/ajax/chat/settings.php').setHandler(c('emptyFunction')).setErrorHandler(c('emptyFunction')).setData({sidebar_mode:c('ChatSidebarStore').isEnabled(),window_id:c('PresenceUtil').getSessionID()}).setAllowCrossPageTransition(true).send();}function ca(){c('ChatSidebarVisibility').shouldShowSidebar(null,function(ea,fa){var ga=true;fa.forEach(function(ia){if(ia===null)return;switch(ia){case c('ChatSidebarHideReason').NOT_ENABLED:s.log('state_not_enabled','{}');ga=false;break;case c('ChatSidebarHideReason').LOW_FRIEND_COUNT:s.log('state_not_shown_num_friends','{}');ga=false;break;case c('ChatSidebarHideReason').VIEWPORT_INCAPABLE:ga=false;}});var ha=ga?'state_shown':'state_not_shown';s.log(ha,'{}');c('ChatPerfInstrumentation').logSIDEBAR_FROM_CLIENT_TTI();});}var da={init:function(ea,fa){da.init=c('emptyFunction');c('ChatPerfInstrumentation').initDivebar();c('ChatDispatcher').explicitlyRegisterStore(c('ChatSidebarStore'));c('ChatSidebarActions').loaded();l=ea;m=fa;i=c('DOM').find(ea,'div.fbChatSidebarBody');k=c('DOM').find(ea,"._51x_");n=c('DOM').find(ea,"._5qqe");c('Event').listen(window,'resize',function(){var ga=babelHelpers['extends']({},r)||{};this._cacheViewport();x(ga);}.bind(this));c('KeyEventController').registerKey('q',function(event){if(c('ChatSidebarStore').getVisibleType()!==c('SidebarType').SIDEBAR)return;if(!j){var ga=c('DOM').scry(ea,"._3rhb input");if(ga.length>0)j=ga[0];}if(j){j.focus();event.prevent();}});m.setScrollContainer(c('Parent').byClass(m.getRoot(),'uiScrollableAreaWrap'));m.subscribe(['render','show','hide'],c('debounce')(function(ga){var ha=c('ScrollableArea').getInstance(m.getRoot());ha&&ha.adjustGripper();}));c('Arbiter').subscribe('chat/option-changed',function(ga,ha){if(ha.name==='hide_groups')aa();});c('Arbiter').subscribe(['AppsDivebar/show-apps','AppsDivebar/hide-apps','Ticker/resized'],aa);c('Arbiter').subscribe('sidebar/typeahead/active',u);c('PresencePrivacy').subscribe('privacy-user-presence-changed',x);c('ChatSidebarStore').addListener(function(){var ga=c('ChatSidebarStore').getState(),ha=c('ChatSidebarStore').getPrevState();if(ga.visible!==ha.visible)switch(ga.visible){case c('SidebarType').SIDEBAR:z();break;case c('SidebarType').BUDDYLIST:w();break;}if(ga.enabled!==ha.enabled)ba();});this._cacheViewport();x();c('ChatImpressionLogger').init(m);c('ViewportBounds').addPersistentRight(v);c('Arbiter').inform('sidebar/initialized',da,c('Arbiter').BEHAVIOR_STATE);c('ChatSidebarActions').init();ca();c('ChatPerfInstrumentation').logSIDEBAR_DISPLAY_DONE();},ensureLoaded:function(){if(!c('ChatSidebarStore').isEnabled())return;if(c('ChatSidebarStore').isLoaded())return;if(c('ge')('pagelet_sidebar'))return;c('Bootloader').loadModules(["UIPagelet"],function(ea){var fa=c('DOM').create('div',{id:'pagelet_sidebar'});c('DOM').appendContent(document.body,fa);ea.loadFromEndpoint('SidebarPagelet','pagelet_sidebar');},'ChatSidebar');c('ChatSidebarActions').loaded();},hide:function(){if(!c('ChatSidebarStore').isEnabled())return;c('ChatSidebarActions').disable();},unhide:function(){if(c('ChatSidebarStore').isEnabled())return;c('ChatSidebarVisibility').shouldShowSidebarIgnoreEnabled(null,function(ea,fa){c('ChatSidebarActions').enable(ea?c('SidebarType').SIDEBAR:c('SidebarType').BUDDYLIST);});},_cacheViewport:function(){r=c('ChatSidebarVisibility').getViewport();},getBodyHeight:function(){return y(Array.from(k.childNodes));}};c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ea,fa){fa.sidebar_visible=t();});da.init=c('TimeSlice').guard(da.init,'ChatSidebar init');f.exports=da;},null);
__d('MercuryParticipantListRenderer',['fbt','MercuryIDs'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){this.$MercuryParticipantListRenderer1=false;this.$MercuryParticipantListRenderer2=false;this.$MercuryParticipantListRenderer3=false;this.$MercuryParticipantListRenderer4=0;this.$MercuryParticipantListRenderer5=null;this.$MercuryParticipantListRenderer6=function(s){if(this.$MercuryParticipantListRenderer5){var t=c('MercuryIDs').getUserIDFromParticipantID(s.id);if(this.$MercuryParticipantListRenderer5[t])return this.$MercuryParticipantListRenderer5[t];}return this.$MercuryParticipantListRenderer2?s.short_name:s.name;}.bind(this);}i.prototype.renderParticipantList=function(s){var t=s.map(this.$MercuryParticipantListRenderer6);switch(t.length){case 0:return j(this.$MercuryParticipantListRenderer1);case 1:return k(t);case 2:return this.$MercuryParticipantListRenderer3?m(t):l(t);case 3:return this.$MercuryParticipantListRenderer3?o(t):n(t);default:return this.$MercuryParticipantListRenderer3?q(t,this.$MercuryParticipantListRenderer4):p(t,this.$MercuryParticipantListRenderer4);}};i.prototype.setIsNewThread=function(s){this.$MercuryParticipantListRenderer1=s;return this;};i.prototype.setNameRenderer=function(s){this.$MercuryParticipantListRenderer6=s;return this;};i.prototype.setUseShortName=function(s){this.$MercuryParticipantListRenderer2=s;return this;};i.prototype.setNickname=function(s){this.$MercuryParticipantListRenderer5=s;return this;};i.prototype.setUseAndSeparator=function(s){this.$MercuryParticipantListRenderer3=s;return this;};i.prototype.setTotalParticipantCount=function(s){this.$MercuryParticipantListRenderer4=s;return this;};function j(s){if(s){return h._("New Message");}else return h._("No Participants");}function k(s){return s[0];}function l(s){return h._("{participant1}, {participant2}",[h.param('participant1',s[0]),h.param('participant2',s[1])]);}function m(s){return h._("{participant1} and {participant2}",[h.param('participant1',s[0]),h.param('participant2',s[1])]);}function n(s){return h._("{participant1}, {participant2}, {participant3}",[h.param('participant1',s[0]),h.param('participant2',s[1]),h.param('participant3',s[2])]);}function o(s){return h._("{participant1}, {participant2} and {participant3}",[h.param('participant1',s[0]),h.param('participant2',s[1]),h.param('participant3',s[2])]);}function p(s,t){return h._("{participant1}, {participant2}, {participant3}, {others_link}",[h.param('participant1',s[0]),h.param('participant2',s[1]),h.param('participant3',s[2]),h.param('others_link',r((t||s.length)-3))]);}function q(s,t){return h._("{participant1}, {participant2} and {others_link}",[h.param('participant1',s[0]),h.param('participant2',s[1]),h.param('others_link',r((t||s.length)-2))]);}function r(s){if(s>1){return h._({"*":"{others_count} others"},[h.param('others_count',s,[0])]);}else return h._("1 other");}f.exports=i;},null);
__d('MercurySyncConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={ARBITER_EVENT_INVALID_STATE:'SYNC:INVALID_STATE'};f.exports=h;},null);
__d('AccessibilityLogger',['AsyncSignal','Cookie'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={COOKIE:'a11y',DECAY_MS:6*60*60*1000,DEFAULT:{sr:0,'sr-ts':Date.now(),jk:0,'jk-ts':Date.now(),kb:0,'kb-ts':Date.now(),hcm:0,'hcm-ts':Date.now()},getCookie:function(){var i=h.DEFAULT,j=c('Cookie').get(h.COOKIE);if(j){j=JSON.parse(j);for(var k in i)if(k in j)i[k]=j[k];}return i;},logKey:function(i,j){var k=h.getCookie();k[i]++;var l=Date.now();if(l-k[i+'-ts']>h.DECAY_MS){new (c('AsyncSignal'))('/ajax/accessibilitylogging',{eventName:j,times_pressed:k[i]}).send();k[i+'-ts']=l;k[i]=0;}c('Cookie').set(h.COOKIE,JSON.stringify(k));},logHCM:function(){h.logKey('hcm','hcm_users');},logSRKey:function(){h.logKey('sr','sr_users');},logJKKey:function(){h.logKey('jk','jk_users');},logFocusIn:function(){h.logKey('kb','kb_users');}};f.exports=h;},null);
__d("CSSClassTransition",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=[];function i(){}Object.assign(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});f.exports=i;},null);
__d('XHPTemplate',['DataStore','DOM','HTML','XHPTemplateProcessor'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XHPTemplateProcessor').processor;function i(k){'use strict';if(h instanceof Function)k=h(k);this._model=k;}i.prototype.render=function(){'use strict';if(c('HTML').isHTML(this._model))this._model=c('DOM').setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};i.prototype.build=function(){'use strict';return new j(this.render());};i.getNode=function(k,l){'use strict';return i.getNodes(k)[l];};i.getNodes=function(k){'use strict';var l=c('DataStore').get(k,'XHPTemplate:nodes');if(!l){l={};var m=c('DOM').scry(k,'[data-jsid]');m.push(k);var n=m.length;while(n--){var o=m[n];l[o.getAttribute('data-jsid')]=o;o.removeAttribute('data-jsid');}c('DataStore').set(k,'XHPTemplate:nodes',l);}return l;};function j(k){'use strict';this._root=k;this._populateNodes();}j.prototype._populateNodes=function(){'use strict';this._nodes={};this._leaves={};var k=this._root.getElementsByTagName('*');for(var l=0,m=k.length;l<m;l++){var n=k[l],o=n.getAttribute('data-jsid');if(o){n.removeAttribute('data-jsid');this._nodes[o]=n;this._leaves[o]=!n.childNodes.length;}}};j.prototype.getRoot=function(){'use strict';return this._root;};j.prototype.getNode=function(k){'use strict';return this._nodes[k];};j.prototype.setNodeProperty=function(k,l,m){'use strict';this.getNode(k)[l]=m;return this;};j.prototype.setNodeContent=function(k,l){'use strict';if(!this._leaves[k])throw new Error("Can't setContent on non-leaf node: "+k);c('DOM').setContent(this.getNode(k),l);return this;};f.exports=i;},null);
__d('BanzaiNectar',['Banzai'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return {log:function(k,l,m){var n={e:l,a:m};c('Banzai').post('nectar:'+k,n,j);}};}var i=h();i.create=h;f.exports=i;},null);
__d("arrayStableSort",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){return i.map(function(k,l){return {data:k,index:l};}).sort(function(k,l){return j(k.data,l.data)||k.index-l.index;}).map(function(k){return k.data;});}f.exports=h;},null);
__d('RangedCallbackManager',['CallbackManagerController','arrayStableSort','createObjectFrom'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$RangedCallbackManager1=[];this.$RangedCallbackManager2=false;this.$RangedCallbackManager3=false;this.$RangedCallbackManager4={};this.$RangedCallbackManager5=new (c('CallbackManagerController'))(this.$RangedCallbackManager6.bind(this));this.$RangedCallbackManager7=i;this.$RangedCallbackManager8=j;this.$RangedCallbackManager9=k;}h.prototype.executeOrEnqueue=function(i,j,k,l,m){'use strict';return this.$RangedCallbackManager5.executeOrEnqueue({start:i,limit:j},k,{strict:!!l,skipOnStrictHandler:m});};h.prototype.unsubscribe=function(i){'use strict';this.$RangedCallbackManager5.unsubscribe(i);};h.prototype.getUnavailableResources=function(i){'use strict';var j=this.$RangedCallbackManager5.getRequest(i),k=[];if(j&&!this.$RangedCallbackManager2){var l=j.request,m=this.$RangedCallbackManager10(j.options),n=l.start+l.limit;for(var o=m.length;o<n;o++)k.push(o);}return k;};h.prototype.addResources=function(i){'use strict';i.forEach(function(j){if(!this.$RangedCallbackManager4[j]){this.$RangedCallbackManager4[j]=true;this.$RangedCallbackManager1.push(j);this.$RangedCallbackManager3=null;}}.bind(this));this.resortResources();this.$RangedCallbackManager5.runPossibleCallbacks();};h.prototype.addResourcesWithoutSorting=function(i,j){'use strict';var k=this.$RangedCallbackManager1.slice(0,j);k=k.concat(i);k=k.concat(this.$RangedCallbackManager1.slice(j));this.$RangedCallbackManager1=k;Object.assign(this.$RangedCallbackManager4,c('createObjectFrom')(i,true));this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks();};h.prototype.removeResources=function(i){'use strict';i.forEach(function(j){if(this.$RangedCallbackManager4[j]){this.$RangedCallbackManager4[j]=false;var k=this.$RangedCallbackManager1.indexOf(j);if(k!=-1)this.$RangedCallbackManager1.splice(k,1);}}.bind(this));};h.prototype.removeAllResources=function(){'use strict';this.$RangedCallbackManager1=[];this.$RangedCallbackManager4={};};h.prototype.resortResources=function(){'use strict';this.$RangedCallbackManager1=c('arrayStableSort')(this.$RangedCallbackManager1,function(i,j){return (this.$RangedCallbackManager8(this.$RangedCallbackManager7(i),this.$RangedCallbackManager7(j)));}.bind(this));};h.prototype.setReachedEndOfArray=function(){'use strict';if(!this.$RangedCallbackManager2){this.$RangedCallbackManager2=true;this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks();}};h.prototype.hasReachedEndOfArray=function(){'use strict';return this.$RangedCallbackManager2;};h.prototype.setError=function(i){'use strict';if(this.$RangedCallbackManager3!==i){this.$RangedCallbackManager3=i;this.$RangedCallbackManager5.runPossibleCallbacks();}};h.prototype.getError=function(i,j,k){'use strict';var l=this.$RangedCallbackManager10({strict:k});return i+j>l.length?this.$RangedCallbackManager3:null;};h.prototype.hasResource=function(i){'use strict';return this.$RangedCallbackManager4[i];};h.prototype.getResourceAtIndex=function(i){'use strict';return this.$RangedCallbackManager1[i];};h.prototype.getAllResources=function(){'use strict';return this.$RangedCallbackManager1.concat();};h.prototype.getCurrentArraySize=function(i){'use strict';return this.$RangedCallbackManager10(i).length;};h.prototype.$RangedCallbackManager10=function(i){'use strict';var j=this.$RangedCallbackManager1;if(i&&i.strict){var k=i.skipOnStrictHandler||this.$RangedCallbackManager9;if(k)j=j.filter(k);}return j;};h.prototype.$RangedCallbackManager6=function(i,j){'use strict';var k=this.$RangedCallbackManager10(j);if(!this.$RangedCallbackManager2&&!this.$RangedCallbackManager3&&i.start+i.limit>k.length){return false;}else{var l=k.slice(i.start,i.start+i.limit),m=i.start+i.limit>k.length?this.$RangedCallbackManager3:null;return [l,m];}};h.prototype.getElementsUntil=function(i){'use strict';var j=[];for(var k=0;k<this.$RangedCallbackManager1.length;k++){var l=this.$RangedCallbackManager7(this.$RangedCallbackManager1[k]);if(this.$RangedCallbackManager8(l,i)>0)break;j.push(this.$RangedCallbackManager1[k]);}return j;};f.exports=h;},null);
__d('BaseTextWithDecoration.react',['React','ReactFragment'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();function j(l,m,n,o){var p=l[m];if(!p){o.push(n);return;}p(n,function(q){o.push(q);},function(q){j(l,m+1,q,o);});}h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.decorators,n=l.text,o=[],p={};j(m,0,n,o);o.forEach(function(q,r){p['i'+r]=q;});return c('React').createElement('span',null,c('ReactFragment').create(p));};function k(){h.apply(this,arguments);}f.exports=k;},null);
__d('MessengerTextWithEmoticons.react',['cx','fbt','BaseTextWithDecoration.react','EmojiImageURL','EmoticonEmojiList','Image.react','React','messengerIterateEmoticons','messengerIterateEmoji'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;function m(r,s){var t=c('EmojiImageURL').getMessengerURL(s,16);return (c('React').createElement(c('Image.react'),{alt:r,className:"_1ift _2560",src:t}));}function n(r,s){var t=c('EmoticonEmojiList').emote2emojis[s],u=t?c('EmojiImageURL').getMessengerURL(t,16):null;if(u){var v=String.fromCodePoint(parseInt(t,16));return (c('React').createElement(c('Image.react'),{alt:v,className:"_1ift _2560",src:u}));}var w=i._("{emoticonName} emoticon",[i.param('emoticonName',s)]);return (c('React').createElement('span',{'aria-label':w},r));}function o(r,s){return function(t,u,v){var w=function(x,y){u(s(x,y));};r(String(t),w,v);};}var p=[o(c('messengerIterateEmoji'),m),o(c('messengerIterateEmoticons'),n)];j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;q.prototype.shouldComponentUpdate=function(r){return r.text!==this.props.text;};q.prototype.render=function(){return (c('React').createElement(c('BaseTextWithDecoration.react'),babelHelpers['extends']({},this.props,{text:this.props.text,decorators:p})));};function q(){j.apply(this,arguments);}q.propTypes={text:l.string};f.exports=q;},null);
__d('StoreAndPropBasedStateMixin',['invariant','StoreBasedStateMixinHelper','setImmediate'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];return {getInitialState:function(){return this.constructor.calculateState(this.props);},componentWillMount:function(){!this.constructor.calculateState?h(0):void 0;this._recalculateStateID=null;var m=function(){if(this.isMounted())this.setState(this.constructor.calculateState(this.props));this._recalculateStateID=null;}.bind(this);this._mixin=new (c('StoreBasedStateMixinHelper'))(k);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=c('setImmediate')(m);}.bind(this));},componentWillReceiveProps:function(m){this.setState(this.constructor.calculateState(m));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);f.exports=i;},null);
__d('BootloadOnInteraction.react',['BootloadOnRender.react','React'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.$BootloadOnInteraction1=this.$BootloadOnInteraction1.bind(this);this.state={hadUserInteraction:false};}j.prototype.$BootloadOnInteraction1=function(){'use strict';this.setState({hadUserInteraction:true});};j.prototype.render=function(){'use strict';if(!this.state.hadUserInteraction)return c('React').cloneElement(this.props.placeholder,{onFocus:this.$BootloadOnInteraction1,onMouseOver:this.$BootloadOnInteraction1,onClick:this.$BootloadOnInteraction1});var k=this.props,l=k.loader,m=k.component,n=k.placeholder;return (c('React').createElement(c('BootloadOnRender.react'),{placeholder:n,loader:l,component:m}));};f.exports=j;},null);