if (self.CavalryLogger) { CavalryLogger.start_js(["NsTcz"]); }

__d("AdsTransparencyProductCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADVERTISER_OPTOUT:"advertiser_optout",AD_PREFERENCES_NEW_USER_SURVEY:"ad_preferences_new_user_survey",CAPSTONE_NUX:"capstone_nux",COOKIE:"cookie",DATA_PROVIDER_OPTOUT:"data_provider_optout",DIALOG_NEW_USER_SURVEY:"dialog_new_user_survey",DIALOG_SATISFACTION_SURVEY:"dialog_satisfaction_survey",EBAY_ADCHOICE_OPTOUT:"ebay_adchoice_optout",FBX_PARTNER_OPTOUT:"fbx_partner_optout",HIDE_AD:"hide_ad",HIDE_ADVERTISER:"hide_advertiser",HIDE_ALREADY_OWNED:"hide_already_owned",HIDE_SINGLE:"hide_single",NATIVE_OPTOUT:"native_optout",QF_NEGATIVE:"qf_negative",QF_NEUTRAL:"qf_neutral",QF_RELEVANT:"qf_relevant",XOUT_SURVEY:"xout_survey"};},null);
__d("XAdPreferencesCapstoneEditActionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/capstone\/edit\/",{ad_id:{type:"Int"},ads_page_type:{type:"Enum",enumType:0},event:{type:"String"},interest_id:{type:"FBID"},quick_edit_number:{type:"Int"}});},null);
__d("XAdsPreferencesQuickEditHistoryController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/quick_edit_history\/",{ad_id:{type:"FBID"},edit_action:{type:"Enum",defaultValue:"view",enumType:1},loaded_preferences:{type:"FBIDVector"},track_last_seen:{type:"Bool",defaultValue:true}});},null);
__d('CapstoneQuickEditMenuItem.react',['ix','cx','fbt','AdsPreferencesEvent','AdsTransparencyEvent','AdsTransparencyLoggerWrapper','AdsTransparencyProduct','AdsTransparencyProductCategory','AsyncRequest','Image.react','PageTransitions','React','ReactDOM','Tooltip','TooltipData','XAdPreferencesCapstoneEditActionController','XAdsPreferencesQuickEditHistoryController','XUIAmbientNUX.react','XUIButton.react','fbglyph'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('XAdPreferencesCapstoneEditActionController').getURIBuilder().getURI(),n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return p=(q=l.constructor).call.apply(q,[this].concat(s)),this.state={edited:false,renderNux:this.props.renderNux},this.renderLayers=function(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.$CapstoneQuickEditMenuItem3,offsetY:12,position:'above',shown:this.state.renderNux,onCloseButtonClick:this.$CapstoneQuickEditMenuItem4,key:'ambientNux'},this.props.nuxMessage));}.bind(this),this.$CapstoneQuickEditMenuItem5=function(){if(this.state.renderNux)this.setState({renderNux:false});}.bind(this),this.$CapstoneQuickEditMenuItem3=function(){return this.refs.nux;}.bind(this),this.$CapstoneQuickEditMenuItem1=function(){this.$CapstoneQuickEditMenuItem6('add');}.bind(this),this.$CapstoneQuickEditMenuItem2=function(){this.$CapstoneQuickEditMenuItem6('del');}.bind(this),this.$CapstoneQuickEditMenuItem6=function(event){var u=this.props,v=u.editNumber,w=u.interest;if(!w||this.state.edited)return;this.setState({edited:true});this.props.updateInterests(w.id,v);new (c('AsyncRequest'))(m).setData({ad_id:this.props.adID,ads_page_type:this.props.pageType,event:event,interest_id:w.id,quick_edit_number:v}).send();}.bind(this),this.$CapstoneQuickEditMenuItem4=function(){this.setState({renderNux:false});}.bind(this),p;}o.prototype.render=function(){var p=this.props.interest;if(!p)return c('React').createElement('span',null,this.renderLayers());if(this.state.renderNux)new (c('AdsTransparencyLoggerWrapper'))().setPrefsEvent(c('AdsPreferencesEvent').SHOW_CAPSTONE_NUX).setTransparencyEvent(c('AdsTransparencyEvent').USER_EXPOSURE).addToExtraData('quick_edit_number',this.props.editNumber.toString()).setAdID(this.props.adID).setCategory(c('AdsTransparencyProductCategory').CAPSTONE_NUX).setProduct(c('AdsTransparencyProduct').NUX).log();var q=c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/face-very-happy_16_bluegray-40.png")}),r=c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/face-very-unhappy_16_bluegray-40.png")}),s=j._("Interested"),t=j._("Not interested");return c('React').createElement('span',null,c('React').createElement('div',{ref:'nux'},c('React').createElement('span',{className:"_3eqa"},c('React').createElement('span',babelHelpers['extends']({className:"_3eqc",ref:'interest_name'},c('TooltipData').propsFor(p.name)),p.name)),c('React').createElement('span',{className:"_3eqd"},c('React').createElement('span',{className:"_4jxc"},c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({className:"_4jxd",image:q,size:'small',suppressed:true,onClick:this.$CapstoneQuickEditMenuItem1},c('TooltipData').propsFor(s))),c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({className:"_4jxd",image:r,size:'small',suppressed:true,onClick:this.$CapstoneQuickEditMenuItem2},c('TooltipData').propsFor(t)))))),this.renderLayers());};o.prototype.componentDidMount=function(){c('PageTransitions').registerHandler(this.$CapstoneQuickEditMenuItem5,10);if(this.props.interest)c('Tooltip').enableDisplayOnOverflow(c('ReactDOM').findDOMNode(this.refs.interest_name));if(this.props.renderNux)new (c('AsyncRequest'))(c('XAdsPreferencesQuickEditHistoryController').getURIBuilder().setFBID('ad_id',this.props.adID).setEnum('edit_action','nux_shown').getURI()).send();};o.prototype.componentWillUnmount=function(){this.$CapstoneQuickEditMenuItem5();};o.propTypes={adID:n.string.isRequired,editNumber:n.number.isRequired,interest:n.object,pageType:n.number.isRequired,renderNux:n.bool,updateInterests:n.func.isRequired};o.defaultProps={renderNux:false};f.exports=o;},null);
__d('CapstoneQuickEditMenu.react',['ix','cx','AdsPreferencesEvent','AdsTransparencyEvent','AdsTransparencyLoggerWrapper','AdsTransparencyTypedLogger','AdsTransparencyProduct','AdsTransparencyProductElement','CapstoneQuickEditMenuItem.react','Image.react','Link.react','React','ReactCSSTransitionGroup','ReactDOM','Tooltip','TooltipData','fbglyph'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return n=(o=k.constructor).call.apply(o,[this].concat(q)),this.state={editCount:1,unseenInterests:[],visibleInterest:null},this.$CapstoneQuickEditMenu1=function(){new (c('AdsTransparencyTypedLogger'))().setAdID(this.props.adID).setLoadedPreferences([parseInt(this.state.visibleInterest.id,10)]).setProduct(c('AdsTransparencyProduct').CAPSTONE).setProductElement(c('AdsTransparencyProductElement').AD_PREFS_LINK).setEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).log();}.bind(this),this.$CapstoneQuickEditMenu2=function(s,t){var u=this.state.unseenInterests,v=u.shift();this.setState({editCount:t+1,unseenInterests:u,visibleInterest:v});if(v!==undefined){this.props.onUpdateVisibleInterest(v.id);}else{this.props.onUpdateVisibleInterest(null);new (c('AdsTransparencyLoggerWrapper'))().setPrefsEvent(c('AdsPreferencesEvent').CAPSTONE_QUICK_EDIT_FINISHED).setTransparencyEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).addToExtraData('quick_edit_number',this.state.editCount.toString()).setAdID(this.props.adID).setProduct(c('AdsTransparencyProduct').CAPSTONE).setMessage('quick_edit_finished').log();this.props.onEditingFinish();}}.bind(this),this.$CapstoneQuickEditMenu3=function(){return !!(this.props.columnActionURI&&this.props.columnActionText);}.bind(this),this.$CapstoneQuickEditMenu4=function(){var s=this.props,t=s.columnActionURI,u=s.columnActionText;return (c('React').createElement('div',{className:"_3yrn"},c('React').createElement('span',{className:"_5uyt"},c('React').createElement('span',{className:"_3yro"},c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/gear_12_fig-blue.png")}))),c('React').createElement('span',{className:"_5uyr"},c('React').createElement(c('Link.react'),babelHelpers['extends']({className:"_3yrp",href:t,ref:'redirect_action'},c('TooltipData').propsFor(u),{onClick:this.$CapstoneQuickEditMenu1}),u))));}.bind(this),n;}m.prototype.componentDidMount=function(){if(this.props.columnActionText)c('Tooltip').enableDisplayOnOverflow(c('ReactDOM').findDOMNode(this.refs.redirect_action));};m.prototype.componentWillMount=function(){var n=this.props.interests,o=n[0];this.setState({unseenInterests:n.slice(1),visibleInterest:o});this.props.onUpdateVisibleInterest(o.id);};m.prototype.shouldComponentUpdate=function(n,o){return this.state.visibleInterest!==o.visibleInterest;};m.prototype.render=function(){var n=this.state.visibleInterest;if(!n)return null;var o=!!this.props.nuxMessage,p=o&&this.state.editCount==2;return (c('React').createElement('div',{className:"_5uyu"},c('React').createElement('div',{className:"_4pbi"},c('React').createElement('div',{className:"_5uzi"},c('React').createElement(c('ReactCSSTransitionGroup'),{className:"_4pbl",component:'div',transitionEnterTimeout:600,transitionLeaveTimeout:600,transitionName:'qe-menuitem'},c('React').createElement(c('CapstoneQuickEditMenuItem.react'),babelHelpers['extends']({},this.props,{editNumber:this.state.editCount,interest:n,key:n.id,renderNux:p,updateInterests:this.$CapstoneQuickEditMenu2})))),c('React').createElement('div',{className:"_3rtg"},c('React').createElement('div',{className:"_3rth"})),this.$CapstoneQuickEditMenu4())));};m.propTypes={adID:l.string.isRequired,columnActionText:l.node,columnActionURI:l.string,interests:l.array.isRequired,nuxMessage:l.node,pageType:l.number.isRequired,onEditingFinish:l.func.isRequired,onUpdateVisibleInterest:l.func.isRequired};m.defaultProps={nuxMessage:''};f.exports=m;},null);
__d('FbFeedObjectInfoCapstone.react',['ix','cx','fbt','AdsTransparencyEvent','AdsTransparencyProduct','AdsTransparencyProductElement','AdsTransparencyTypedLogger','AsyncRequest','CapstoneQuickEditMenu.react','Image.react','Layout.react','Link.react','React','XAdsPreferencesQuickEditHistoryController','XUICloseButton.react','fbglyph'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return q=(r=l.constructor).call.apply(r,[this].concat(t)),this.state={editingFinished:false,hidden:false,visibleInterests:null},this.$FbFeedObjectInfoCapstone1=function(){new (c('AdsTransparencyTypedLogger'))().setAdID(this.props.adID).setLoadedPreferences([this.state.visibleInterest]).setProduct(c('AdsTransparencyProduct').CAPSTONE).setProductElement(c('AdsTransparencyProductElement').AD_PREFS_LINK).setEvent(c('AdsTransparencyEvent').USER_ENGAGEMENT).log();}.bind(this),this.$FbFeedObjectInfoCapstone2=function(){var v=this.state.editingFinished,w=this.props,x=w.followupActionURI,y=w.followupActionText,z=w.headerActionURI,aa=w.headerActionText;if(!v&&z){return (c('React').createElement('span',{className:"_3l1m"},c('React').createElement(c('Link.react'),{className:"_moo",href:z,onClick:this.$FbFeedObjectInfoCapstone1},aa)));}else if(v&&x)return (c('React').createElement(c('Link.react'),{className:"_moo",href:x,onClick:this.$FbFeedObjectInfoCapstone1},y));return null;}.bind(this),this.$FbFeedObjectInfoCapstone3=function(){var v=this.props.editAreaProps;if(!v)return null;return (c('React').createElement(c('CapstoneQuickEditMenu.react'),babelHelpers['extends']({onEditingFinish:this.$FbFeedObjectInfoCapstone4,onUpdateVisibleInterest:this.$FbFeedObjectInfoCapstone5,adID:this.props.adID},v)));}.bind(this),this.$FbFeedObjectInfoCapstone6=function(){var v=this.state.editingFinished,w=this.props,x=w.headerMessage,y=w.followupMessage;return v&&y?y:x;}.bind(this),this.$FbFeedObjectInfoCapstone4=function(){this.setState({editingFinished:true});}.bind(this),this.$FbFeedObjectInfoCapstone7=function(){var v=c('XAdsPreferencesQuickEditHistoryController').getURIBuilder().setFBID('ad_id',this.props.adID).setFBIDVector('loaded_preferences',[this.state.visibleInterest]).setEnum('edit_action','hide').getURI(),w=new (c('AsyncRequest'))(v);w.send();this.setState({hidden:true});}.bind(this),this.$FbFeedObjectInfoCapstone5=function(v){this.setState({visibleInterest:v});}.bind(this),q;}p.prototype.shouldComponentUpdate=function(q,r){return (r.hidden!==this.state.hidden||r.editingFinished!==this.state.editingFinished);};p.prototype.render=function(){if(this.state.hidden)return null;var q=this.props.isErrorCapstone,r=(q?"_3utq":'')+(!q?' '+"_2g9u":''),s=null;if(q)s=c('React').createElement(c('Image.react'),{className:"_58tt",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/caution-solid_16_bluegray-40.png")});return (c('React').createElement('div',{className:r},c('React').createElement(c('Layout.react'),{className:"_3eyg"},c('React').createElement(m,{className:"_58tt"},s),c('React').createElement(n,{className:"_48y_"},this.$FbFeedObjectInfoCapstone6(),' ',this.$FbFeedObjectInfoCapstone2()),c('React').createElement(m,{className:"_3eyh"},c('React').createElement(c('XUICloseButton.react'),{onClick:this.$FbFeedObjectInfoCapstone7},j._("Close")))),this.$FbFeedObjectInfoCapstone3()));};p.propTypes={adID:o.string,editAreaProps:o.object,followupActionText:o.node,followupActionURI:o.node,followupMessage:o.node,headerActionText:o.node,headerActionURI:o.node,headerMessage:o.string.isRequired,isErrorCapstone:o.bool};p.defaultProps={isErrorCapstone:false};f.exports=p;},null);