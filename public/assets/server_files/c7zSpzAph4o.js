if (self.CavalryLogger) { CavalryLogger.start_js(["yxPsS"]); }

__d("TimelineAppSectionConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={collectionTabKeyToAppTabKey:{friends_recent:"friends",friends_all:"friends",friends_mutual:"friends",photos_of:"photos",photos_all:"photos",photos_albums:"photos",likes_recent:null,info_all:"about",music_my_music:"music",music_favs:"music",music_playlists:"music",books_read:"books",books_favorite:"books",books_want:"books",recent_places:null,fitness_overview:"fitness",places_want:null,info_contact:null,fitness_running:"fitness",fitness_cycling:"fitness",friends_followers:"friends",friends_following:"friends",music_radio:"music",info_history:null,recent_games:"games",products_want:null,photos_archive:"photos",notes_my_notes:"notes",notes_drafts:"notes",notes_about_me:"notes",video_movies_watch:"movies",video_tv_shows_watch:"tv",music_saved:"music",video_movies_want:"movies",video_tv_shows_want:"tv",video_movies_favorite:"movies",video_tv_shows_favorite:"tv",friends_high_school:"friends",friends_college:"friends",friends_work:"friends",friends_suggested:"friends",apps_like:"games",upcoming_events:"events",past_events:"events",likes_people:"likes",likes_sports:null,fitness_report:null,groups_member:"groups",music_heavy_rotation:"music",photos_album:"photos",music_mutual:"music",likes_restaurants:"likes",likes_clothing:null,info_insights:null,apps_used:"games",games_play:"games",games_apps_saved:null,video_movies_suggestions:null,video_tv_shows_suggestions:null,books_suggestions:null,saved_books:"saved",saved_movies:"saved",saved_tv_shows:"saved",saved_music:"saved",places_saved:"map",saved_links:"saved",sports_teams:"sports",likes_all:"likes",saved_places:"saved",saved_all:"saved",sports_athletes:"sports",sports_activities:null,saved_events:"saved",saved_archived:"saved",places_recent:"map",places_visited:"map",reviews_written:"reviews",likes_section_movies:"likes",likes_section_tv_shows:"likes",likes_section_books:"likes",likes_section_music:"likes",likes_section_sports_teams:"likes",place_visits_by_place_tag:null,places_cities:"map",place_visits_by_city:null,topic_visit_counts:"map",place_visits_by_topic:null,place_visit_stories:null,places_map:"map",likes_section_apps_and_games:"likes",likes_section_sports_athletes:"likes",places_cities_desktop:"map",saved_videos:"saved",saved_pages:"saved",friends_with_upcoming_birthdays:"friends",friends_current_city:"friends",friends_hometown:"friends",at_work_contact:null,place_reviews_written:"reviews",movie_reviews_written:"reviews",tv_show_reviews_written:"reviews",book_reviews_written:"reviews",photos_all_expanded:"photos",videos_by_user:"videos",videos_user_tagged:"videos",external_videos_for_user:"videos",friends_map:"friends",videos_user_all:"videos",saved_posts:"saved",saved_photo_posts:"saved",saved_products:"saved",at_work_hr_info:null,friends_with_unseen_posts:"friends",groups_mutual:"groups",saved_profiles:"saved",all_questions:"personality_questions",same_answers:"personality_questions",different_answers:"personality_questions",new_questions:"personality_questions",work_followers:"friends",work_following:"friends",saved_messages:"saved",saved_lists:"saved",saved_fundraisers:"saved",video_playlists:"videos",followers:"friends",following:"friends",media_set:"photos",photos_stream:"photos",photos_synced:"photos",apps:"games",videos_by:"videos",videos_of:"videos"}};},null);
__d("TimelineDOMID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",SUFFIX_MORE_PAGER:"_more_pager"};},null);
__d('BusinessURI.brands',['BizSiteIdentifier.brands','BusinessConf','URI'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('URI'));i=h&&h.prototype;function j(l,m){'use strict';i.constructor.call(this,l);if(c('BizSiteIdentifier.brands').isBizSite()){var n=m||c('BizSiteIdentifier.brands').getBusinessID();if(n)this.addQueryData(c('BusinessConf').BIZ_ID_PARAM_NAME,n);if(!this.$BusinessURI1(this.getSubdomain()))this.setSubdomain(c('BusinessConf').DOMAIN);}return this;}j.prototype.$BusinessURI1=function(l){'use strict';return l==='developers';};var k=function(l,m){return new j(l,m);};f.exports=k;},null);
__d("DoublyLinkedListMap",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;}h.prototype.get=function(i){"use strict";return this._nodes[i]?this._nodes[i].data:null;};h.prototype.getIndex=function(i){"use strict";for(var j=this._head,k=0;j;j=j.next,k++)if(j.key===i)return k;return null;};h.prototype._insert=function(i,j,k,l){"use strict";k&&!this._nodes[k]&&(k=null);var m=k&&this._nodes[k]||(l?this._head:this._tail),n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m;}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m;}}n.prev===null&&(this._head=n);n.next===null&&(this._tail=n);this._nodes[i]=n;this._nodeCount++;return this;};h.prototype.insertBefore=function(i,j,k){"use strict";return this._insert(i,j,k,true);};h.prototype.insertAfter=function(i,j,k){"use strict";return this._insert(i,j,k,false);};h.prototype.prepend=function(i,j){"use strict";return this.insertBefore(i,j,this._head&&this._head.key);};h.prototype.append=function(i,j){"use strict";return this.insertAfter(i,j,this._tail&&this._tail.key);};h.prototype.remove=function(i){"use strict";var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--;}return this;};h.prototype.find=function(i){"use strict";for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null;};h.prototype.reduce=function(i,j){"use strict";for(var k=this._head;k;k=k.next)j=i(k.data,j);return j;};h.prototype.exists=function(i){"use strict";return !!this._nodes[i];};h.prototype.isEmpty=function(){"use strict";return !this._head;};h.prototype.reset=function(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;};h.prototype.map=function(i){"use strict";for(var j=this._head;j;j=j.next)i(j.data);};h.prototype.getCount=function(){"use strict";return this._nodeCount;};h.prototype.getHead=function(){"use strict";return this._head&&this._head.data;};h.prototype.getTail=function(){"use strict";return this._tail&&this._tail.data;};h.prototype.getNext=function(i){"use strict";var j=this._nodes[i];if(j&&j.next)return j.next.data;return null;};h.prototype.getPrev=function(i){"use strict";var j=this._nodes[i];if(j&&j.prev)return j.prev.data;return null;};f.exports=h;},null);
__d('Optimus',['Event','Parent'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={};function i(k,l){var m=l.getTarget();if(!m)return;var n=h[k];for(var o in n){var p=c('Parent').byAttribute(m,o);if(p)do{var q=n[o][p.getAttribute(o)];if(q&&q.handleOptimus(k,p,l)===false)break;}while(p=c('Parent').byAttribute(p.parentNode,o));}}function j(k,l,m,n){if(!h[k]){h[k]={};c('Event').listen(document.documentElement,k,i.bind(null,k));}if(!h[k][l])h[k][l]={};if(!h[k][l][m])h[k][l][m]=n;}f.exports={addRelClick:function(k,l){j('click','rel',k,l);},addEventListener:j};},null);
__d('ProfileActionBarLogger',['FBJSON','MarauderLogger','Optimus'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){c('Optimus').addEventListener('mouseup','data-loggable','ProfileHighQualityLogger',{handleOptimus:function(i,j,k){c('MarauderLogger').log('profile_high_quality_action',null,c('FBJSON').parse(j.getAttribute('data-store')));return false;}});}g.init=h;},null);
__d('ProfileOverviewSection',['Arbiter','DOMScroll','DoublyLinkedListMap','Run','TidyArbiterMixin','ge'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;function i(){h=null;}function j(k,l,m){'use strict';this.id=k;this.label=m;this.nodeID=l;this._parentSection=null;this.childSections=new (c('DoublyLinkedListMap'))();this._isLoaded=false;setTimeout(function(){return j.inform('sectionInitialized/'+k,{section:this},c('Arbiter').BEHAVIOR_STATE);}.bind(this),0);}j.prototype.appendSection=function(k){'use strict';this.childSections.append(k.id,k);k._parentSection=this;};j.prototype.freeze=function(){'use strict';this.freezeChildren();};j.prototype.freezeChildren=function(){'use strict';var k=this.childSections.getHead();while(k){!k.isActive()&&k.freeze();k=k.getNext();}};j.prototype.getNext=function(){'use strict';return this._parentSection&&this._parentSection.childSections.getNext(this.id);};j.prototype.getPrev=function(){'use strict';return this._parentSection&&this._parentSection.childSections.getPrev(this.id);};j.prototype.isActive=function(){'use strict';var k=this;while(k){if(k.id===h)return true;k=k._parentSection;}return false;};j.prototype.isLoaded=function(){'use strict';return this._isLoaded;};j.prototype.setIsLoaded=function(k){'use strict';this._isLoaded=k;return this;};j.prototype.scrollTo=function(){'use strict';if(!c('ge')(this.nodeID))return;c('DOMScroll').scrollTo(this.getNode(),true,false,false,0,c('DOMScroll').scrollTo.bind(this).bind(null,this.getNode(),0));};j.prototype.thaw=function(){'use strict';this.thawChildren();};j.prototype.thawChildren=function(){'use strict';var k=this.childSections.getHead();while(k){k.thaw();k=k.getNext();}};j.prototype.getNode=function(){'use strict';throw new Error('This function needs to be implemented in children.');};j.callWithSection=function(k,l){'use strict';this.subscribe('sectionInitialized/'+k,function(m,n){l(n.section);});};j.setActiveSectionID=function(k){'use strict';!h&&c('Run').onLeave(i);h=k;};Object.assign(j,c('TidyArbiterMixin'));f.exports=j;},null);
__d('TimelineURI',['BizSiteIdentifier.brands','BusinessURI.brands','ProfileTabConst','TimelineAppSectionConstants','URI','goURI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={parseURI:function(i){i=new (c('URI'))(i);var j=i.getQueryData(),k=i.getPath(),l=k.split('/').slice(1);if(l[0]=='people'||l[0]=='pages')l=l.slice(2);var m=j.sk||l[1]||c('ProfileTabConst').TIMELINE;if(m==c('ProfileTabConst').WALL)m=c('ProfileTabConst').TIMELINE;var n=null,o=null;if(m==c('ProfileTabConst').TIMELINE){o=parseInt(l[2],10)||null;n=parseInt(l[3],10)||null;}return {path:k,id:j.id||l[0],key:m,viewas:j.viewas?j.viewas:0,filter:j.filter?j.filter:null,year:o,month:n,friendship:!!j.and};},goToProfileID:function(i){if(c('BizSiteIdentifier.brands').isBizSite()){c('goURI')(c('BusinessURI.brands')('/profile.php').addQueryData('id',i),true);}else c('goURI')(new (c('URI'))('/'+i),true);},getTabKeyFromURI:function(i){var j=h.getSectionKeyFromURI(i);return c('TimelineAppSectionConstants').collectionTabKeyToAppTabKey[j]||j;},getSectionKeyFromURI:function(i){return i.getQueryData().sk||i.getPath().split('/')[2];},getVanityFromURI:function(i){if(i.getQueryData().id)return i.getQueryData.id;return i.getPath().split('/')[1];},isVideoPermalink:function(i){return (h.getTabKeyFromURI(i)===c('ProfileTabConst').VIDEOS&&i.getPath().split('/').filter(function(j){return !!j;}).length>2);}};f.exports=h;},null);
__d('ProfileNavigation',['Arbiter','CSS','PageTransitions','ProfileDOMID','ProfileOverviewDOMID','ProfileTabConst','ProfileTabUtils','ScriptPath','TimelineComponentKeys','TimelineController','TimelineDOMID','TimelineURI','UIPagelet','URI','$','ge'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=6,i='/profile_book.php',j=null,k=null;function l(w){var x=c('URI').getMostRecentURI(),y=c('TimelineURI').getSectionKeyFromURI(x),z=c('TimelineURI').getTabKeyFromURI(x),aa=c('TimelineURI').getSectionKeyFromURI(w),ba=c('TimelineURI').getTabKeyFromURI(w),ca=w.getQueryData();if(s(x,w)||t(ba)||t(z)||!!ca.and||c('TimelineURI').isVideoPermalink(w))return false;if(ca.hc_location==='profile_browser')return false;if(ca.hasOwnProperty('theater')){c('Arbiter').subscribeOnce('PhotoSnowlift.CLOSE',u);return false;}if(ca.hasOwnProperty('force-refresh'))return false;if(c('ProfileTabUtils').isTimelineTab(z)&&!c('ProfileTabUtils').isTimelineTab(ba)&&r(aa)){j=aa;m(aa,'TimelineMedleyView',c('TimelineDOMID').TAB_CONTENT,c('ProfileOverviewDOMID').MEDLEY_ROOT,ca);return true;}if(!c('ProfileTabUtils').isTimelineTab(z)&&c('ProfileTabUtils').isTimelineTab(ba)){j=y;m(c('ProfileTabConst').TIMELINE,'TimelineWallColumn',c('ProfileOverviewDOMID').MEDLEY_ROOT,c('TimelineDOMID').TAB_CONTENT,ca);return true;}return false;}function m(w,x,y,z,aa){c('CSS').hide(c('$')(y));c('Arbiter').inform('save_facebar_query',true);var ba=c('ge')(z);if(ba){c('CSS').show(ba);q(w);}else n(x,w,aa);c('TimelineController').registerCurrentKey(w);}function n(w,x,y){o();var z=babelHelpers['extends']({},k,{tab_key:x});if(y)z=babelHelpers['extends']({},z,y);var aa=function(ca){p();ca();},ba={append:true,displayCallback:aa,finallyHandler:q.bind(null,x),usePipe:true};c('UIPagelet').loadFromEndpoint(w,c('ProfileDOMID').MAIN_COLUMN_PERSONAL,z,ba);}function o(){c('CSS').show(c('$')(c('ProfileDOMID').TAB_LOAD_INDICATOR));}function p(){c('CSS').hide(c('$')(c('ProfileDOMID').TAB_LOAD_INDICATOR));}function q(w){var x=i;if(!c('ProfileTabUtils').isTimelineTab(w))x+=':'+w;c('ScriptPath').set(x);c('PageTransitions').transitionComplete();}function r(w){return j===null||w===j;}function s(w,x){var y=c('TimelineURI').getVanityFromURI(w),z=w.getQueryData().id,aa=c('TimelineURI').getVanityFromURI(x),ba=x.getQueryData().id;if(y&&aa)return y!==aa;if(z&&ba)return z!==ba;return true;}function t(w){return (c('ProfileTabUtils').isActivityLogTab(w)||w===c('ProfileTabConst').MEMORIAL_CONTACT||w===c('ProfileTabConst').POSTS);}function u(){c('PageTransitions').registerHandler(l,h);}var v={init:function(w){k=w.profileContextData;c('TimelineController').register(c('TimelineComponentKeys').ASYNC_NAV,this);u();},reset:function(){k=null;j=null;c('PageTransitions').removeHandler(l);}};f.exports=v;},null);
__d('TimelineNavLight',['csx','cx','invariant','CSS','DataStore','DOM','DOMQuery','Event','Parent','ProfileOverviewDOMID','ProfileOverviewSection','ProfileTimelineUILogger','TimelineAppSectionConstants','TimelineComponentKeys','TimelineController','destroyOnUnload','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k="_6-7",l="_6-6",m="_529n",n="_5215",o="_9rw",p="_70k",q="._6-7",r="._6-6";function s(t){'use strict';!!s.$TimelineNavLight1?j(0):void 0;this.$TimelineNavLight2=t;this.$TimelineNavLight3=c('DOMQuery').scry(t,q)[0];this.$TimelineNavLight4=c('DOMQuery').scry(t,r);this.$TimelineNavLight5();c('ProfileOverviewSection').subscribe('Medley/transitionToSection',function(v,w){this.$TimelineNavLight6(w.slice(c('ProfileOverviewDOMID').PREFIX_MEDLEY.length));}.bind(this));c('TimelineController').register(c('TimelineComponentKeys').COVER_NAV,this);var u=c('Event').listen(this.$TimelineNavLight2,'click',this.$TimelineNavLight7.bind(this));s.$TimelineNavLight1=this;c('destroyOnUnload')(function(){this.$TimelineNavLight2=null;this.$TimelineNavLight3=null;this.$TimelineNavLight4=null;u.remove();if(this.$TimelineNavLight8)this.$TimelineNavLight8.remove();s.$TimelineNavLight1=null;}.bind(this));}s.prototype.handleTabChange=function(t){'use strict';this.$TimelineNavLight6(t);};s.prototype.setMoreMenuInstance=function(t){'use strict';this.$TimelineNavLight8=c('Event').listen(t.getRoot(),'click',this.$TimelineNavLight9.bind(this));};s.setMoreMenuInstance=function(t){'use strict';!!!s.$TimelineNavLight1?j(0):void 0;s.$TimelineNavLight1.setMoreMenuInstance(t);};s.prototype.$TimelineNavLight6=function(t){'use strict';this.$TimelineNavLight3&&c('CSS').removeClass(this.$TimelineNavLight3,k);this.$TimelineNavLight4.some(function(u){var v=c('TimelineAppSectionConstants').collectionTabKeyToAppTabKey[t]||t;if(c('DataStore').get(u,'tab-key')===v){c('CSS').addClass(u,k);this.$TimelineNavLight3=u;return true;}}.bind(this));};s.prototype.$TimelineNavLight5=function(){'use strict';var t=this.$TimelineNavLight4.length-1,u=this.$TimelineNavLight4[t],v,w,x,y=0;c('queryThenMutateDOM')(function(){v=c('Parent').byClass(this.$TimelineNavLight2,p).offsetWidth;w=u.offsetLeft;x=u.offsetWidth;for(var z=t;z>1;z--){var aa=this.$TimelineNavLight4[z];if(aa.offsetLeft+aa.offsetWidth>v){y++;}else break;}}.bind(this),function(){if(w+x>v)c('CSS').addClass(this.$TimelineNavLight2,n);for(var z=t;z>t-y;z--)c('DOM').remove(this.$TimelineNavLight4[z]);c('CSS').removeClass(c('Parent').byClass(this.$TimelineNavLight2,m),m);}.bind(this));};s.prototype.$TimelineNavLight10=function(t,u){'use strict';var v=c('Parent').byClass(t,u);if(v)return c('DataStore').get(v,'tab-key');return null;};s.prototype.$TimelineNavLight7=function(event){'use strict';var t=this.$TimelineNavLight10(event.target,l);if(t)c('ProfileTimelineUILogger').logCoverNavItemClick(t);};s.prototype.$TimelineNavLight9=function(event){'use strict';var t=this.$TimelineNavLight10(event.target,o);if(t)c('ProfileTimelineUILogger').logCoverNavMoreItemClick(t);};f.exports=s;},null);
__d('TimelineSmartInsert',['Run','UserAgent_DEPRECATED','Vector'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=100;function i(o){if(o==='viewport')return c('Vector').getViewportDimensions().y;return o;}var j=false,k=false;function l(){if(k)return;c('Run').onLeave(m);k=true;}function m(){j=false;k=false;}var n={run:function(o,p,q){l();if(!j||c('UserAgent_DEPRECATED').ie()<=8){p();return;}var r=o.offsetHeight;p();var s=o.offsetHeight,t=c('Vector').getScrollPosition().y,u=c('Vector').getElementPosition(o).y;if(s!==r&&u<t&&u+r<t+i(q||h))window.scrollBy(0,s-r);},enable:function(){j=true;}};f.exports=n;},null);